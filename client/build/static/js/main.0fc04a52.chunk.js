(this["webpackJsonponline-bookstore"]=this["webpackJsonponline-bookstore"]||[]).push([[0],{100:function(e,t,r){"use strict";r.r(t);var n,a=r(1),c=r.n(a),o=r(37),s=r.n(o),i=(r(72),r(5)),u=r(22),l=r(7),d=i.c,p=r(6),j=r(2),h=r.n(j),O=r(4);!function(e){e.SET_GENRE="SET_GENRE",e.SET_AUTHOR="SET_AUTHOR",e.SET_ERROR="SET_ERROR",e.SET_SELECTED_GENRE="SET_SELECTED_GENRE",e.SET_SELECTED_AUTHOR="SET_SELECTED_AUTHOR",e.ADD_GENRE="ADD_GENRE",e.ADD_AUTHOR="ADD_AUTHOR",e.DELETE_GENRE="DELETE_GENRE",e.DELETE_AUTHOR="DELETE_AUTHOR"}(n||(n={}));var b=r(17),f=r(21),v=r(34),x=r.n(v),g="http://localhost:5000/api/",_=x.a.create({withCredentials:!0,baseURL:g});_.interceptors.request.use((function(e){return e.headers.authorization="Bearer ".concat(localStorage.getItem("token")),e})),_.interceptors.response.use((function(e){return e}),function(){var e=Object(O.a)(h.a.mark((function e(t){var r,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.config,401!=t.response.status||!t.config||t.config._isRetry){e.next=14;break}return r._isRetry=!0,e.prev=3,e.next=6,x.a.get("".concat(g,"user/refresh"),{withCredentials:!0});case 6:return n=e.sent,localStorage.setItem("token",n.data.accessToken),e.abrupt("return",_.request(r));case 11:e.prev=11,e.t0=e.catch(3),console.log("\u041d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d");case 14:throw t;case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}());var m,A=_,E=function(){function e(){Object(b.a)(this,e)}return Object(f.a)(e,null,[{key:"getGenre",value:function(){var e=Object(O.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.get("genre");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"createGenre",value:function(){var e=Object(O.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.post("genre",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteGenre",value:function(){var e=Object(O.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.delete("genre/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAthor",value:function(){var e=Object(O.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.get("author");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"createAuthor",value:function(){var e=Object(O.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.post("author",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteAuthor",value:function(){var e=Object(O.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.delete("author/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),C={setAuthor:function(e){return{type:n.SET_AUTHOR,payload:e}},setGenre:function(e){return{type:n.SET_GENRE,payload:e}},setError:function(e){return{type:n.SET_ERROR,payload:e}},setSelectedGenre:function(e){return{type:n.SET_SELECTED_GENRE,payload:e}},setSelectedAuthor:function(e){return{type:n.SET_SELECTED_AUTHOR,payload:e}},addGenre:function(e){return{type:n.ADD_GENRE,payload:e}},addAuthor:function(e){return{type:n.ADD_AUTHOR,payload:e}},deleteGenre:function(e){return{type:n.DELETE_GENRE,payload:e}},deleteAuthor:function(e){return{type:n.DELETE_AUTHOR,payload:e}},loadingGenre:function(){return function(){var e=Object(O.a)(h.a.mark((function e(t){var r,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.getGenre();case 3:r=e.sent,t(C.setGenre(r.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(C.setError(null===(n=e.t0.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},loadingAuthor:function(){return function(){var e=Object(O.a)(h.a.mark((function e(t){var r,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.getAthor();case 3:r=e.sent,t(C.setAuthor(r.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(C.setError(null===(n=e.t0.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},addNewGenre:function(e){return function(){var t=Object(O.a)(h.a.mark((function t(r){var n,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.createGenre({name:e});case 3:r(C.addGenre(e)),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),r(C.setError(null===(n=t.t0.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},addNewAuthor:function(e){return function(){var t=Object(O.a)(h.a.mark((function t(r){var n,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.createAuthor({name:e});case 3:r(C.addAuthor(e)),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),r(C.setError(null===(n=t.t0.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},removeGenre:function(e){return function(){var t=Object(O.a)(h.a.mark((function t(r){var n,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.deleteGenre(e);case 3:r(C.deleteGenre(e)),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),r(C.setError(null===(n=t.t0.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},removeAuthor:function(e){return function(){var t=Object(O.a)(h.a.mark((function t(r){var n,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.deleteAuthor(e);case 3:r(C.deleteAuthor(e)),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),r(C.setError(null===(n=t.t0.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}},T=r(3),S=r(27),N=r(49),k=r.n(N),y=r(0),P=["children"],R=function(e){var t=e.children,r=Object(S.a)(e,P);return Object(y.jsx)("button",Object(T.a)(Object(T.a)({},r),{},{className:r.disabled?k.a.disable:k.a.button,children:t}))},w=r(60),I=r.n(w),L=function(e){return Object(y.jsx)("input",Object(T.a)({className:I.a.input},e))},G=r(40),D=r.n(G),B=function(e){var t=e.visible,r=e.onHide,n=e.modalHeader,c=d((function(e){return e.genreAuthor})).error,o=Object(a.useState)(""),s=Object(p.a)(o,2),u=s[0],l=s[1],j=Object(i.b)();return Object(y.jsx)("div",{className:t?D.a.open:D.a.close,onClick:function(){return r(!1)},children:Object(y.jsxs)("div",{className:D.a.modalWrapper,onClick:function(e){return function(e){e.stopPropagation()}(e)},children:[Object(y.jsx)("h3",{children:n}),Object(y.jsxs)("form",{children:[c?Object(y.jsx)("h4",{children:c}):null,Object(y.jsx)(L,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",value:u,onChange:function(e){return l(e.target.value)}})]}),Object(y.jsx)(R,{onClick:function(){return r(!1)},children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"}),Object(y.jsx)(R,{onClick:function(){"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0430\u0432\u0442\u043e\u0440\u0430"===n?(j(C.addNewAuthor(u)),l(""),r(!1)):"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0436\u0430\u043d\u0440"===n&&(j(C.addNewGenre(u)),l(""),r(!1))},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})})},H=r(28),U=r.n(H),Y=function(){var e=Object(i.b)(),t=d((function(e){return e.genreAuthor})),r=t.author,n=t.genre,c=Object(a.useState)(!1),o=Object(p.a)(c,2),s=o[0],u=o[1],l=Object(a.useState)(!1),j=Object(p.a)(l,2),h=j[0],O=j[1];return Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:U.a.genreAuthor,children:[Object(y.jsxs)("div",{className:U.a.categoriesItem,children:[Object(y.jsx)(R,{onClick:function(){return O(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0436\u0430\u043d\u0440"}),Object(y.jsx)("table",{className:U.a.table,children:Object(y.jsxs)("tbody",{children:[Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"id"}),Object(y.jsx)("th",{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0436\u0430\u043d\u0440\u0430"}),Object(y.jsx)("th",{children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"})]}),n.map((function(t){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:t.id}),Object(y.jsx)("td",{children:t.name}),Object(y.jsx)("td",{children:Object(y.jsx)(R,{onClick:function(){return r=t.id,void e(C.removeGenre(r));var r},children:"X"})})]},t.name)}))]})})]}),Object(y.jsxs)("div",{className:U.a.categoriesItem,children:[Object(y.jsx)(R,{onClick:function(){return u(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0430\u0432\u0442\u043e\u0440\u0430"}),Object(y.jsx)("table",{className:U.a.table,children:Object(y.jsxs)("tbody",{children:[Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"id"}),Object(y.jsx)("th",{children:"\u0418\u043c\u044f \u0430\u0432\u0442\u043e\u0440\u0430"}),Object(y.jsx)("th",{children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"})]}),r.map((function(t){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:t.id}),Object(y.jsx)("td",{children:t.name}),Object(y.jsx)("td",{children:Object(y.jsx)(R,{onClick:function(){return r=t.id,void e(C.removeAuthor(r));var r},children:"X"})})]},t.name)}))]})})]})]}),Object(y.jsx)(B,{modalHeader:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0436\u0430\u043d\u0440",visible:h,onHide:function(){return O(!1)}}),Object(y.jsx)(B,{modalHeader:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0430\u0432\u0442\u043e\u0440\u0430",visible:s,onHide:function(){return u(!1)}})]})},M=function(){function e(){Object(b.a)(this,e)}return Object(f.a)(e,null,[{key:"fetchGoods",value:function(){var e=Object(O.a)(h.a.mark((function e(t,r,n,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.get("book",{params:{authorId:t,genreId:r,limit:n,page:a}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}()},{key:"createProduct",value:function(){var e=Object(O.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.post("book",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteProduct",value:function(){var e=Object(O.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.delete("book/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchProduct",value:function(){var e=Object(O.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.get("book/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();!function(e){e.SET_GOODS="SET_GOODS",e.SET_IS_LOADING="SET_IS_LOADING",e.SET_ERROR="SET_ERROR",e.SET_PRODUCT="SET_PRODUCT",e.SET_PAGE="SET_PAGE",e.SET_TOTAL_COUNT="SET_TOTAL_COUNT",e.SET_LIMIT="SET_LIMIT",e.SET_NEW_PRODUCTS="SET_NEW_PRODUCTS",e.ADD_PRODUCT="ADD_PRODUCT",e.DELETE_PRODUCT="DELETE_PRODUCT"}(m||(m={}));var F,X={setGoods:function(e){return{type:m.SET_GOODS,payload:e}},setIsLoading:function(e){return{type:m.SET_IS_LOADING,payload:e}},setError:function(e){return{type:m.SET_ERROR,payload:e}},setProduct:function(e){return{type:m.SET_PRODUCT,payload:e}},setPage:function(e){return{type:m.SET_PAGE,payload:e}},setTotalCount:function(e){return{type:m.SET_TOTAL_COUNT,payload:e}},setLimit:function(e){return{type:m.SET_LIMIT,payload:e}},setNewPoducts:function(e){return{type:m.SET_NEW_PRODUCTS,payload:e}},addOneProduct:function(e){return{type:m.ADD_PRODUCT,payload:e}},deleteOneProduct:function(e){return{type:m.DELETE_PRODUCT,payload:e}},getAllGoods:function(e,t,r,n){return function(){var a=Object(O.a)(h.a.mark((function a(c){var o,s,i;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c(X.setIsLoading(!0)),a.next=4,M.fetchGoods(e,t,r,n);case 4:o=a.sent,c(X.setGoods(o.data.rows)),c(X.setTotalCount(o.data.count)),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),c(X.setError(null===(s=a.t0.response)||void 0===s||null===(i=s.data)||void 0===i?void 0:i.errors));case 12:return a.prev=12,c(X.setIsLoading(!1)),a.finish(12);case 15:case"end":return a.stop()}}),a,null,[[0,9,12,15]])})));return function(e){return a.apply(this,arguments)}}()},getOneProduct:function(e){return function(){var t=Object(O.a)(h.a.mark((function t(r){var n,a,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r(X.setIsLoading(!0)),t.next=4,M.fetchProduct(e);case 4:n=t.sent,r(X.setProduct(n.data)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),r(X.setError(null===(a=t.t0.response)||void 0===a||null===(c=a.data)||void 0===c?void 0:c.errors));case 11:return t.prev=11,r(X.setIsLoading(!1)),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()},getNewGoods:function(e,t,r,n){return function(){var a=Object(O.a)(h.a.mark((function a(c){var o,s,i;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c(X.setIsLoading(!0)),a.next=4,M.fetchGoods(e,t,r,n);case 4:o=a.sent,c(X.setNewPoducts(o.data.rows)),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),c(X.setError(null===(s=a.t0.response)||void 0===s||null===(i=s.data)||void 0===i?void 0:i.errors));case 11:return a.prev=11,c(X.setIsLoading(!1)),a.finish(11);case 14:case"end":return a.stop()}}),a,null,[[0,8,11,14]])})));return function(e){return a.apply(this,arguments)}}()},createProduct:function(e,t){return function(){var r=Object(O.a)(h.a.mark((function r(n){var a,c;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,M.createProduct(t);case 3:n(X.addOneProduct(e)),r.next=9;break;case 6:r.prev=6,r.t0=r.catch(0),n(X.setError(null===(a=r.t0.response)||void 0===a||null===(c=a.data)||void 0===c?void 0:c.errors));case 9:return r.prev=9,n(X.setIsLoading(!1)),r.finish(9);case 12:case"end":return r.stop()}}),r,null,[[0,6,9,12]])})));return function(e){return r.apply(this,arguments)}}()},removeOneProduct:function(e){return function(){var t=Object(O.a)(h.a.mark((function t(r){var n,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,M.deleteProduct(e);case 3:r(X.deleteOneProduct(e)),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),r(X.setError(null===(n=t.t0.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.errors));case 9:return t.prev=9,r(X.setIsLoading(!1)),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[0,6,9,12]])})));return function(e){return t.apply(this,arguments)}}()}},Q=r(9),V=r(10),z=r(41),q=r.n(z),W=function(e){var t=e.list,r=e.firstName,n=e.slectedItem,c=Object(a.useState)(!1),o=Object(p.a)(c,2),s=o[0],i=o[1];return Object(y.jsxs)("span",{className:q.a.selectButton,onClick:function(e){return function(e){e.preventDefault()}(e)},children:[Object(y.jsx)(R,{onClick:function(){return i(!0)},children:void 0!==r[0]?r[0].name:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e"}),s?Object(y.jsx)("ul",{className:q.a.listBlock,children:t?t.map((function(e){return Object(y.jsx)("li",{onClick:function(){return function(e){n(e),i(!1)}(e)},value:e.id,className:q.a.listItem,children:e.name},e.name)})):null}):null]})},Z=r(42),J=r.n(Z),K=function(e){var t=e.visible,r=e.onHide,n=Object(i.b)(),c=d((function(e){return e.goods})).goods,o=d((function(e){return e.genreAuthor})),s=o.author,u=o.genre,l=o.selectedAuthor,j=o.selectedGenre,h=Object(a.useState)(""),O=Object(p.a)(h,2),b=O[0],f=O[1],v=Object(a.useState)(0),x=Object(p.a)(v,2),g=x[0],_=x[1],m=Object(a.useState)(""),A=Object(p.a)(m,2),E=A[0],S=A[1],N=Object(a.useState)([{title:"\u0418\u0437\u0434\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e",description:"",id:0},{title:"\u0413\u043e\u0434 \u0432\u044b\u043f\u0443\u0441\u043a\u0430",description:"",id:1},{title:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0442\u0440\u0430\u043d\u0438\u0446",description:"",id:2},{title:"\u042f\u0437\u044b\u043a",description:"",id:3},{title:"\u0410\u043d\u043d\u043e\u0442\u0430\u0446\u0438\u044f",description:"",id:4}]),k=Object(p.a)(N,2),P=k[0],w=k[1];return Object(y.jsx)("div",{className:t?J.a.open:J.a.close,onClick:function(){return r(!1)},children:Object(y.jsxs)("div",{className:J.a.modalWrapper,onClick:function(e){return function(e){e.stopPropagation()}(e)},children:[Object(y.jsx)("h2",{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440"}),Object(y.jsxs)("form",{children:[Object(y.jsx)(W,{list:s,firstName:l,slectedItem:function(e){n(C.setSelectedAuthor(e))}}),Object(y.jsx)(W,{list:u,firstName:j,slectedItem:function(e){n(C.setSelectedGenre(e))}}),Object(y.jsx)(L,{value:b,onChange:function(e){return f(e.target.value)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(y.jsx)(L,{onChange:function(e){return _(Number(e.target.value))},value:g,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c",type:"number"}),Object(y.jsx)(L,{type:"file",onChange:function(e){S(e.target.files[0])}}),Object(y.jsx)("h3",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),P.map((function(e){return Object(y.jsx)(L,{placeholder:e.title,value:e.description,onChange:function(t){return r="description",n="".concat(t.target.value),a=e.id,void w(P.map((function(e){return e.id===a?Object(T.a)(Object(T.a)({},e),{},Object(V.a)({},r,n)):e})));var r,n,a}},e.id)}))]}),Object(y.jsx)(R,{onClick:function(){return r(!1)},children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"}),Object(y.jsx)(R,{onClick:function(){return function(){var e={id:c.length+1,name:b,price:g,img:E,authorId:l[0].id,genreId:j[0].id,rating:0,info:Object(Q.a)(P)},t=new FormData;t.append("name",b),t.append("price","".concat(g)),t.append("img",E),t.append("authorId","".concat(l[0].id)),t.append("genreId","".concat(j[0].id)),t.append("info",JSON.stringify(P)),n(X.createProduct(e,t)),n(C.setSelectedAuthor([])),n(C.setSelectedGenre([])),r(!1)}()},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})})},$=r(61),ee=r.n($),te=function(){var e=d((function(e){return e.goods})),t=e.goods,r=e.totalCount,n=Object(i.b)(),c=Object(a.useState)(!1),o=Object(p.a)(c,2),s=o[0],u=o[1];return Object(a.useEffect)((function(){n(X.getAllGoods(null,null,r))}),[]),Object(y.jsxs)("div",{children:[Object(y.jsx)(R,{onClick:function(){return u(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440"}),Object(y.jsx)("table",{className:ee.a.goodsTable,children:Object(y.jsxs)("tbody",{children:[Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"id"}),Object(y.jsx)("th",{children:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"}),Object(y.jsx)("th",{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430"}),Object(y.jsx)("th",{children:"\u0426\u0435\u043d\u0430"}),Object(y.jsx)("th",{children:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433"}),Object(y.jsx)("th",{children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"})]}),t.length>0?t.map((function(e){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:e.id}),Object(y.jsx)("td",{children:Object(y.jsx)("img",{src:"http://localhost:5000/".concat(e.img),alt:"product",width:"20px",height:"25px"})}),Object(y.jsx)("td",{children:e.name}),Object(y.jsxs)("td",{children:[e.price," \u20bd"]}),Object(y.jsx)("td",{children:e.rating}),Object(y.jsx)("td",{children:Object(y.jsx)(R,{onClick:function(){return t=e.id,void n(X.removeOneProduct(t));var t},children:"X"})})]},e.name)})):null]})}),Object(y.jsx)(K,{visible:s,onHide:function(){return u(!1)}})]})},re=r(35),ne=r.n(re),ae=function(){var e=Object(a.useState)("\u0422\u043e\u0432\u0430\u0440\u044b"),t=Object(p.a)(e,2),r=t[0],n=t[1];return Object(y.jsxs)("div",{className:ne.a.adminPage,children:[Object(y.jsx)("div",{className:ne.a.selectPanel,children:["\u0422\u043e\u0432\u0430\u0440\u044b","\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"].map((function(e){return Object(y.jsx)("div",{className:r===e?ne.a.selected:ne.a.screen,onClick:function(){return function(e){n(e)}(e)},children:e},e)}))}),"\u0422\u043e\u0432\u0430\u0440\u044b"===r?Object(y.jsx)(te,{}):Object(y.jsx)(Y,{})]})},ce=function(){function e(){Object(b.a)(this,e)}return Object(f.a)(e,null,[{key:"login",value:function(){var e=Object(O.a)(h.a.mark((function e(t,r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.post("user/login",{email:t,password:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"registration",value:function(){var e=Object(O.a)(h.a.mark((function e(t,r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.post("user/registration",{email:t,password:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(O.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.post("user/logout",{email:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();!function(e){e.SET_AUTH="SET_AUTH",e.SET_USER="SET_USER",e.SET_IS_LOADING="SET_IS_LOADING",e.SET_ERROR="SET_ERROR"}(F||(F={}));var oe,se={setUser:function(e){return{type:F.SET_USER,payload:e}},setIsAuth:function(e){return{type:F.SET_AUTH,payload:e}},setError:function(e){return{type:F.SET_ERROR,payload:e}},setIsLoading:function(e){return{type:F.SET_IS_LOADING,payload:e}},login:function(e,t){return function(){var r=Object(O.a)(h.a.mark((function r(n){var a,c,o;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n(se.setIsLoading(!0)),r.next=4,ce.login(e,t);case 4:a=r.sent,localStorage.setItem("token",a.data.accessToken),n(se.setIsAuth(!0)),n(se.setUser(a.data.user)),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),n(se.setError(null===(c=r.t0.response)||void 0===c||null===(o=c.data)||void 0===o?void 0:o.errors));case 13:return r.prev=13,n(se.setIsLoading(!1)),r.finish(13);case 16:case"end":return r.stop()}}),r,null,[[0,10,13,16]])})));return function(e){return r.apply(this,arguments)}}()},registration:function(e,t){return function(){var r=Object(O.a)(h.a.mark((function r(n){var a,c,o;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n(se.setIsLoading(!0)),r.next=4,ce.registration(e,t);case 4:a=r.sent,localStorage.setItem("token",a.data.accessToken),n(se.setIsAuth(!0)),n(se.setUser(a.data.user)),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),n(se.setError(null===(c=r.t0.response)||void 0===c||null===(o=c.data)||void 0===o?void 0:o.errors));case 13:return r.prev=13,n(se.setIsLoading(!1)),r.finish(13);case 16:case"end":return r.stop()}}),r,null,[[0,10,13,16]])})));return function(e){return r.apply(this,arguments)}}()},logout:function(e){return function(){var t=Object(O.a)(h.a.mark((function t(r){var n,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r(se.setIsLoading(!0)),t.next=4,ce.logout(e);case 4:localStorage.removeItem("token"),r(se.setIsAuth(!1)),r(se.setUser({})),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r(se.setError(null===(n=t.t0.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.errors));case 12:return t.prev=12,r(se.setIsLoading(!1)),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[0,9,12,15]])})));return function(e){return t.apply(this,arguments)}}()},checkAuth:function(){return function(){var e=Object(O.a)(h.a.mark((function e(t){var r,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("".concat(g,"user/refresh"),{withCredentials:!0});case 3:r=e.sent,localStorage.setItem("token",r.data.accessToken),t(se.setIsAuth(!0)),t(se.setUser(r.data.user)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t(se.setError(null===(n=e.t0.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.errors));case 12:return e.prev=12,t(se.setIsLoading(!1)),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(t){return e.apply(this,arguments)}}()}},ie="/admin",ue="/shop",le="/login",de="/registration",pe="/cart",je="/product",he=r(23),Oe=r.n(he),be=function(){var e=d((function(e){return e.auth})),t=e.error,r=e.isAuth,n=e.user,c=Object(l.h)().pathname===le,o=Object(l.g)(),s=Object(a.useState)(""),j=Object(p.a)(s,2),h=j[0],O=j[1],b=Object(a.useState)(""),f=Object(p.a)(b,2),v=f[0],x=f[1],g=Object(i.b)();Object(a.useEffect)((function(){r&&!0===n.isActivated&&o.push(ue)}),[r,n]);return Object(y.jsx)("div",{children:r||n.isActivated?Object(y.jsx)("div",{className:Oe.a.notActive,children:Object(y.jsx)("h2",{children:"\u041f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u0432 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u0443\u044e \u043f\u043e\u0447\u0442\u0443 \u0438 \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u0443\u0439\u0442\u0435 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"})}):Object(y.jsx)("div",{className:Oe.a.authForm,children:Object(y.jsxs)("div",{className:Oe.a.formTable,children:[Object(y.jsx)("h2",{children:c?"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f":"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(y.jsxs)("form",{children:[Object(y.jsx)("p",{className:Oe.a.error,children:t}),Object(y.jsx)(L,{onChange:function(e){return O(e.target.value)},value:h,type:"email",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email..."}),Object(y.jsx)(L,{onChange:function(e){return x(e.target.value)},value:v,type:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(y.jsxs)("div",{className:Oe.a.registLink,children:[c?Object(y.jsx)("div",{children:Object(y.jsxs)("p",{children:["\u041d\u0435\u0442 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430? ",Object(y.jsx)(u.b,{className:Oe.a.link,to:de,children:"\u0417\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c!"})]})}):Object(y.jsx)("div",{children:Object(y.jsxs)("p",{children:["\u0415\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442? ",Object(y.jsx)(u.b,{className:Oe.a.link,to:le,children:"\u0412\u043e\u0439\u0434\u0438\u0442\u0435!"})]})}),Object(y.jsx)(R,{onClick:function(e){e.preventDefault(),c?(g(se.login(h,v)),O(""),x(""),r&&o.push(ue)):(g(se.registration(h,v)),O(""),x(""))},children:c?"\u0412\u043e\u0439\u0442\u0438":"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})]})]})})})},fe=r(29),ve=r.n(fe),xe=r.p+"static/media/EmptyCart.e70dcf4e.png";!function(e){e.SET_CART="SET_CART",e.SET_CART_IS_LOADING="SET_CART_IS_LOADING",e.SET_CART_ERROR="SET_CART_ERROR",e.SET_COUNT_GOODS="SET_COUNT_GOODS",e.SET_ALL_CART_PRICE="SET_ALL_CART_PRICE"}(oe||(oe={}));var ge=function(){function e(){Object(b.a)(this,e)}return Object(f.a)(e,null,[{key:"fetchCart",value:function(){var e=Object(O.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.get("cart");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"putProductInCart",value:function(){var e=Object(O.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.post("cart",{id:"".concat(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteFromCart",value:function(){var e=Object(O.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.delete("cart/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),_e={setCart:function(e){return{type:oe.SET_CART,payload:e}},setCartIsLoading:function(e){return{type:oe.SET_CART_IS_LOADING,payload:e}},setError:function(e){return{type:oe.SET_CART_ERROR,payload:e}},setCountGoods:function(e){return{type:oe.SET_COUNT_GOODS,payload:e}},setAllCartPrice:function(e){return{type:oe.SET_ALL_CART_PRICE,payload:e}},getProductListFromCart:function(){return function(){var e=Object(O.a)(h.a.mark((function e(t){var r,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(_e.setCartIsLoading(!0)),e.next=4,ge.fetchCart();case 4:r=e.sent,t(_e.setCart(r.data)),t(_e.setCountGoods(r.data.length)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t(_e.setError(null===(n=e.t0.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.errors));case 12:return e.prev=12,t(_e.setCartIsLoading(!1)),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(t){return e.apply(this,arguments)}}()},putProductInMyCart:function(e){return function(){var t=Object(O.a)(h.a.mark((function t(r){var n,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r(_e.setCartIsLoading(!0)),t.next=4,ge.putProductInCart(e);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),r(_e.setError(null===(n=t.t0.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.errors));case 9:return t.prev=9,r(_e.setCartIsLoading(!1)),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[0,6,9,12]])})));return function(e){return t.apply(this,arguments)}}()},deleteProductFromCart:function(e){return function(){var t=Object(O.a)(h.a.mark((function t(r){var n,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r(_e.setCartIsLoading(!0)),t.next=4,ge.deleteFromCart(e);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),r(_e.setError(null===(n=t.t0.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.errors));case 9:return t.prev=9,r(_e.setCartIsLoading(!1)),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[0,6,9,12]])})));return function(e){return t.apply(this,arguments)}}()}},me=r(25),Ae=r.n(me),Ee=function(e){var t=e.id,r=e.img,n=e.name,c=e.price,o=d((function(e){return e.cart.cart})),s=d((function(e){return e.cart.countGoods})),u=d((function(e){return e.cart.allCartPrice})),l=Object(i.b)(),j=Object(a.useState)(1),h=Object(p.a)(j,2),O=h[0],b=h[1],f=function(e){l(_e.deleteProductFromCart(e));var t=o.filter((function(t){return t.id!==e}));l(_e.setCart(t)),l(_e.setCountGoods(s-=1))};return Object(y.jsxs)("div",{className:Ae.a.productItem,children:[Object(y.jsxs)("div",{className:Ae.a.grupItem,children:[Object(y.jsx)("img",{className:Ae.a.productImg,src:"http://localhost:5000/".concat(r),alt:"product picture",width:"20px",height:"40px"}),Object(y.jsx)("span",{children:n})]}),Object(y.jsxs)("div",{className:Ae.a.counterBlock,children:[Object(y.jsx)(R,{onClick:function(){return function(e,t){e<=1&&f(t),b(e-=1),l(_e.setAllCartPrice(u-=c))}(O,t)},children:"-"}),Object(y.jsx)("span",{className:Ae.a.counter,children:O}),Object(y.jsx)(R,{onClick:function(){return function(e){b(e+=1),l(_e.setAllCartPrice(u+=c))}(O)},children:"+"})]}),Object(y.jsxs)("div",{className:Ae.a.productPrice,children:[Object(y.jsxs)("span",{children:[c*O," \u20bd"]}),Object(y.jsx)(R,{onClick:function(){return f(t)},children:"X"})]})]})},Ce=function(){var e=Object(l.g)(),t=Object(i.b)(),r=d((function(e){return e.cart.cart})),n=d((function(e){return e.cart.allCartPrice}));return Object(a.useEffect)((function(){var e=r.reduce((function(e,t){return e+t.price}),0);t(_e.setAllCartPrice(e))}),[r]),Object(a.useEffect)((function(){t(_e.getProductListFromCart())}),[]),Object(y.jsx)("div",{className:ve.a.cart,children:r.length>0?Object(y.jsxs)("div",{children:[r.map((function(e){return Object(y.jsx)(Ee,{id:e.id,img:e.img,name:e.name,price:e.price},e.id)})),Object(y.jsx)("div",{className:ve.a.line}),Object(y.jsxs)("div",{className:ve.a.totalPrice,children:[Object(y.jsx)("span",{children:"\u0418\u0442\u043e\u0433\u043e\u0432\u0430\u044f \u0446\u0435\u043d\u0430:"}),Object(y.jsxs)("div",{children:[Object(y.jsxs)("span",{children:[n," \u20bd"]}),Object(y.jsx)(R,{children:"\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c"})]})]})]}):Object(y.jsxs)("div",{className:ve.a.emptyCart,children:[Object(y.jsx)("img",{src:xe,alt:"cart is empty",width:"300px",height:"300px"}),Object(y.jsx)("span",{className:ve.a.emptyCartText,children:"\u0412\u0430\u0448\u0430 \u043a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u0430. \u0415\u0441\u043b\u0438 \u0412\u0430\u043c \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u043d\u0440\u0430\u0432\u0438\u043b\u043e\u0441\u044c, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0435\u0440\u043d\u0438\u0442\u0435\u0441\u044c \u0432 \u043c\u0430\u0433\u0430\u0437\u0438\u043d \u0438 \u043f\u043e\u043c\u0435\u0441\u0442\u0438\u0442\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0439 \u0442\u043e\u0432\u0430\u0440 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443."}),Object(y.jsx)(R,{onClick:function(){return e.push(ue)},children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430\u0437\u0430\u0434"})]})})},Te=r(63),Se=function(){var e=d((function(e){return e.goods.product.rating}));return Object(y.jsx)("div",{children:Object(y.jsx)(Te.Rating,{onClick:function(){},ratingValue:e})})},Ne=r.p+"static/media/loading.b8eaef34.gif",ke=r(11),ye=r.n(ke),Pe=function(){var e=Object(l.h)(),t=Object(i.b)(),r=Object(a.useState)(!1),n=Object(p.a)(r,2),c=n[0],o=n[1],s=d((function(e){return e.goods})),u=s.product,j=s.isLoading,h=d((function(e){return e.cart})).countGoods,O=d((function(e){return e.cart.cart})),b=Number(e.pathname.split("/")[2]);Object(a.useEffect)((function(){t(X.getOneProduct(b)),O.find((function(e){return e.id==b}))&&o(!0)}),[]);return Object(y.jsx)("div",{children:j?Object(y.jsx)("div",{className:ye.a.loading,children:Object(y.jsx)("img",{src:Ne,alt:"Loading...",height:"100px",width:"100px"})}):Object(y.jsxs)("div",{className:ye.a.product,children:[Object(y.jsxs)("div",{className:ye.a.description,children:[Object(y.jsx)("img",{src:"http://localhost:5000/".concat(u.img),alt:"product photo",width:"300px",height:"390px"}),Object(y.jsxs)("div",{className:ye.a.properties,children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{children:u.name}),Object(y.jsxs)("span",{className:ye.a.price,children:["\u0426\u0435\u043d\u0430: ",u.price," \u20bd"]}),Object(y.jsxs)("div",{className:ye.a.ratingBlock,children:[Object(y.jsx)("span",{className:ye.a.ratingValue,children:u.rating}),Object(y.jsx)(Se,{})]}),u.info?Object(y.jsxs)("div",{className:ye.a.proprtiesList,children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("span",{className:ye.a.propertiesHeader,children:"\u0418\u0437\u0434\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e: "}),Object(y.jsx)("span",{className:ye.a.propertiesValue,children:u.info[0].description})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("span",{className:ye.a.propertiesHeader,children:"\u0413\u043e\u0434 \u0432\u044b\u043f\u0443\u0441\u043a\u0430: "}),Object(y.jsxs)("span",{className:ye.a.propertiesValue,children:[u.info[1].description," \u0433."]})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("span",{className:ye.a.propertiesHeader,children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0442\u0440\u0430\u043d\u0438\u0446: "}),Object(y.jsxs)("span",{className:ye.a.propertiesValue,children:[u.info[2].description," \u0441\u0442\u0440."]})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("span",{className:ye.a.propertiesHeader,children:"\u042f\u0437\u044b\u043a \u0438\u0437\u0434\u0430\u043d\u0438\u044f: "}),Object(y.jsx)("span",{className:ye.a.propertiesValue,children:u.info[3].description})]})]}):null]}),c?Object(y.jsx)(R,{disabled:!0,children:" \u2714 \u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0435"}):Object(y.jsx)(R,{onClick:function(){return function(e){t(_e.putProductInMyCart(e)),t(_e.setCountGoods(h+=1)),o(!0)}(b)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"})]})]}),Object(y.jsxs)("div",{className:ye.a.productDiscription,children:[Object(y.jsxs)("h2",{children:['\u0410\u043d\u043d\u043e\u0442\u0430\u0446\u0438\u044f \u043a\u043d\u0438\u0433\u0438 "',u.name,'"']}),u.info?Object(y.jsx)("p",{className:ye.a.productDiscriptionText,children:u.info[4].description}):null]})]})})},Re=r(30),we=r.n(Re),Ie=function(){var e=Object(i.b)(),t=d((function(e){return e.genreAuthor.genre})),r=d((function(e){return e.genreAuthor.selectedGenre})),n=d((function(e){return e.goods.page})),c=d((function(e){return e.goods.limit}));Object(a.useEffect)((function(){e(C.loadingGenre()),e(C.loadingAuthor())}),[]);return Object(y.jsxs)("nav",{children:[Object(y.jsx)("h2",{children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438:"}),Object(y.jsxs)("ul",{className:we.a.listGenre,children:[Object(y.jsx)("li",{onClick:function(){return e(C.setSelectedGenre(r[1])),e(X.getAllGoods(null,null,c,n)),void e(X.setPage(1))},className:r[0]?we.a.listItem:we.a.selected,children:"\u0412\u0441\u0435 \u0436\u0430\u043d\u0440\u044b"}),t.map((function(t){var n;return Object(y.jsx)("li",{onClick:function(){return function(t){e(C.setSelectedGenre(t)),e(X.setPage(1))}(t)},className:(null===(n=r[0])||void 0===n?void 0:n.id)===t.id?we.a.selected:we.a.listItem,children:t.name},t.id)}))]})]})},Le=r(24),Ge=r.n(Le),De="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAAEoElEQVRoge2Z3W8UZRTGf2eWtlBEgtJu+dIQGhED8iEsCbAbqiYSolxqIglcGk0oiNyZGLjwjiuIfwAYb42JIaBeEGMw8YOYFjEkRAhSoFAt0m7blLLv48XutjPb2e7OMqOJ6bnYd949857nOXOeOfPOLszarM1aYqbLHRn92rElSQxLKrB60u2k7DoABa209XfvJYHjJRG0GNneA1oRraXjRCyRCuhqZwvj+RtI6eIXDJBveta29Y3FjZVMBcZH9vnIA7Qxf2JvElCxJyBhyB1ClMgLJEBHpPgrHn8FLnXsQrwAFImXE5FW09v2WtxwCUhIh4uDStPShwDH+3GjxVpS9aTXgnon4/rJQykpb4NtutcTF2a8FZA+AKwkGaaTB1Q4GCdkbBVQT7oddAMxN0AcKuU0jmylbf7zThy48VVA7sA08lLYvdACvBsXbCwV0PfL59E6/geweLpkJj/8iQ3S3PSMrb878rjYkROQMH5rS1PQMpRaClqO2I6013/SFOFqcrLPwF0A+nDuNl7zLbYM3DULnB09AV1qX0UqtQyxAqclYMtRYRnYUmAFUgfQFEpQPuwIPk35JhD9wE2k20K3PNSHszuYu4lL9Vn2wbWqCejy0mPIfRQA8Q01ZNGQT6o4N7RzTflMOmrZ/LHyN3P8CSB3DRDCgqX3B62YhxGs06fo6wTedT/lQBeytf2nkO0HTQQ7SRXy4V2mpk9SdfLV1xVMvGPZodMBzoSYetOvAp8jLQgE8g3/lmRKMUZN3puWGzpTybVqF9IvHVvw3BlE238oGYBBE3ssN3whjOeMbVSX2ldR0DlEZwAkDKi+LhNpHeKGFdhlXcNXqnGs+RzQj20dNHEWaUMAxDfUL5mZ1k1L7LIVCrusa6xvJn41txKWGeinmSzYN4ErVI28zxcqmarrAuS/tfGm7bXIQ4Qnsa52tjD09ymktwIEKgn6iYf46pDhFzYn/7Zto67350hbCQnj4uLjyB0OEPAPjUsGGZ94O/LdZrh6OTW0mdNPi04gOxBTlymSh5OpXL47Kpc5tU8JMZGPUTJlG26ESmMJYFvL4I8jGb/P0NZGmER+oZHwkDYXjxvuMmG+jI5G5xP9jeyHp56X9GQDe5kpn0J9C+h6YnXyCchlJslVfXGvQr7sK88rfU6ZqHQiJ+A8ZWKRTHnuO3blixPBIt/E5iwTucvUcRODMEeyFdB55oLWhUtmmpwGDbrN0Q0MVq8IU9UyXixiJJQALQs2IZqnk/DJSTiJTy3FGsvlT9rO/EnzUp2CE4hHNeTUTGHexuQSIJWZscug84bbmMoN77Pt+cl/ZCz74H5q58hBw1sHnA2XWmnuot0HkRJwlR1oUhZ203D7vWz+ZcuN9FZbb13DV7yu0d0m9iB+nyLPZDJOllwCBpmKqzciZ8fs0dBzlh05PeNif5xXRr+0hWNrTO4QMOSXk1m0Vlr/dvq7hYtk+gtkCCc45anwoeVGH+s3Tp1rXeJSjz422X7AQ8gmxp+217lfz/r6E/gqPV+toxeBfjPviO148HOjpEPjf920WfKOg9L28OFL9gajccaftVn7v9o/fzB7l3fCLDkAAAAASUVORK5CYII=",Be=function(e){var t=e.id,r=e.name,n=e.price,a=e.rating,c=e.img,o=e.isLoading,s=Object(l.g)();return Object(y.jsx)("div",{className:Ge.a.productCart,children:o?Object(y.jsx)("div",{className:Ge.a.loading,children:Object(y.jsx)("img",{src:Ne,alt:"Loading...",height:"50px",width:"50px"})}):Object(y.jsxs)("div",{children:[Object(y.jsx)("img",{src:"http://localhost:5000/".concat(c),alt:"book cover",height:"300px",width:"200px",onClick:function(){return s.push(je+"/".concat(t))},className:Ge.a.productImg}),Object(y.jsxs)("div",{className:Ge.a.productInfo,children:[Object(y.jsxs)("div",{className:Ge.a.price,onClick:function(){return s.push(je+"/".concat(t))},children:[n," \u20bd"]}),Object(y.jsx)("div",{onClick:function(){return s.push(je+"/".concat(t))},className:Ge.a.productName,children:r}),Object(y.jsxs)("div",{className:Ge.a.rating,children:[Object(y.jsx)("img",{src:De,alt:"star",height:"18px",width:"18px"}),a]})]})]})})},He=r(64),Ue=r.n(He),Ye=function(){var e=d((function(e){return e.goods})),t=e.goods,r=e.isLoading,n=d((function(e){return e.genreAuthor.selectedGenre})),c=d((function(e){return e.genreAuthor.selectedAuthor})),o=d((function(e){return e.goods.page})),s=d((function(e){return e.goods.limit})),u=Object(i.b)();return Object(a.useEffect)((function(){u(X.getAllGoods(null,null,s,o))}),[]),Object(a.useEffect)((function(){var e,t;u(X.getAllGoods(null===(e=c[0])||void 0===e?void 0:e.id,null===(t=n[0])||void 0===t?void 0:t.id,s,o))}),[o,n,c]),Object(y.jsx)("main",{className:Ue.a.goods,children:t.map((function(e){return Object(y.jsx)(Be,{id:e.id,name:e.name,price:e.price,img:e.img,rating:e.rating,isLoading:r},e.id)}))})},Me=r(31),Fe=r.n(Me),Xe=function(){for(var e=d((function(e){return e.goods.totalCount})),t=d((function(e){return e.goods.limit})),r=d((function(e){return e.goods.page})),n=Math.ceil(e/t),c=Object(i.b)(),o=Object(a.useState)(1),s=Object(p.a)(o,2),u=s[0],l=s[1],j=[],h=0;h<n;h++)j.push(h+1);var O=Math.ceil(n/5),b=5*(u-1)+1,f=5*u;return Object(y.jsxs)("div",{className:Fe.a.pagination,children:[u>1&&Object(y.jsxs)("span",{children:[Object(y.jsx)(R,{onClick:function(){l(u-1)},children:"<"}),Object(y.jsx)("span",{className:Fe.a.points,children:"..."})]}),j.filter((function(e){return e>=b&&e<=f})).map((function(e){return Object(y.jsx)("div",{className:r===e?Fe.a.activePage:Fe.a.page,onClick:function(){return function(e){c(X.setPage(e))}(e)},children:e},e)})),O>u&&Object(y.jsxs)("span",{children:[Object(y.jsx)("span",{className:Fe.a.points,children:"..."}),Object(y.jsx)(R,{onClick:function(){l(u+1)},children:">"})]})]})},Qe=r(51),Ve=r(18),ze=(r(99),r(43)),qe=r.n(ze),We=function(e){var t=e.image,r=e.rating,n=e.id,a=Object(l.g)();return Object(y.jsxs)("div",{className:qe.a.slide,children:[Object(y.jsx)("img",{src:"http://localhost:5000/".concat(t),alt:"book photo",width:"70px",height:"100px",className:qe.a.bookCover,onClick:function(){return a.push(je+"/".concat(n))}}),Object(y.jsxs)("div",{className:qe.a.rating,children:[Object(y.jsx)("img",{src:De,alt:"star",width:"10px",height:"10px"}),Object(y.jsx)("span",{children:r})]})]})};Ve.d.use([Ve.b,Ve.c,Ve.a]);var Ze=function(){var e=d((function(e){return e.goods})),t=e.newProducts,r=e.totalCount,n=e.limit,c=Object(i.b)();return Object(a.useEffect)((function(){var e=Math.floor(r/n)+1;c(X.getNewGoods(null,null,n,e))}),[r]),Object(y.jsx)(Qe.a,{autoplay:!0,spaceBetween:50,slidesPerView:3,children:t.reverse().map((function(e){return Object(y.jsx)(Qe.b,{children:Object(y.jsx)(We,{image:e.img,rating:e.rating,id:e.id})},e.id)}))})},Je=r(20),Ke=r.n(Je),$e=[{path:ie,Component:ae},{path:pe,Component:Ce}],et=[{path:ue,Component:function(){return Object(y.jsxs)("div",{className:Ke.a.shopBody,children:[Object(y.jsx)("section",{className:Ke.a.startBlock,children:Object(y.jsxs)("div",{className:Ke.a.wrapper,children:[Object(y.jsxs)("div",{className:Ke.a.mainHeaders,children:[Object(y.jsx)("h3",{children:"\u041e\u0442\u043a\u044b\u0432\u0430\u0439 \u043d\u043e\u0432\u044b\u0435 \u043c\u0438\u0440\u044b \ud83d\udcd6"}),Object(y.jsx)("h1",{className:Ke.a.firstHeader,children:"\u041f\u043e\u043b\u0443\u0447\u0438 \u043b\u044e\u0431\u0438\u043c\u0443\u044e \u043a\u043d\u0438\u0433\u0443 \u043f\u043e \u043b\u0443\u0447\u0448\u0435\u0439 \u0446\u0435\u043d\u0435 \ud83e\udd11"}),Object(y.jsxs)("div",{className:Ke.a.slider,children:[Object(y.jsx)("h3",{children:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 \u043f\u043e\u0441\u0442\u0443\u043f\u043b\u0435\u043d\u0438\u044f:"}),Object(y.jsx)("div",{className:Ke.a.sliderBlock,children:Object(y.jsx)(Ze,{})})]})]}),Object(y.jsx)("div",{className:Ke.a.poster})]})}),Object(y.jsx)("h2",{className:Ke.a.shopHeader,children:"\u0423 \u043d\u0430\u0441 \u0432 \u043f\u0440\u043e\u0434\u0430\u0436\u0435"}),Object(y.jsxs)("section",{className:Ke.a.shop,children:[Object(y.jsx)(Ie,{}),Object(y.jsx)(Ye,{}),Object(y.jsx)(Xe,{})]})]})}},{path:le,Component:be},{path:"".concat(je,"/:id"),Component:Pe},{path:de,Component:be}],tt=r(65),rt=r.n(tt),nt=function(){var e=d((function(e){return e.auth.isAuth}));return Object(y.jsx)("div",{className:rt.a.main,children:Object(y.jsxs)(l.d,{children:[e&&$e.map((function(e){var t=e.path,r=e.Component;return Object(y.jsx)(l.b,{path:t,component:r,exact:!0},t)})),et.map((function(e){var t=e.path,r=e.Component;return Object(y.jsx)(l.b,{path:t,component:r,exact:!0},t)})),Object(y.jsx)(l.a,{to:ue})]})})},at=r(66),ct=r.n(at),ot=r(19),st=r.n(ot),it=r(44),ut=r.n(it),lt=function(){var e=Object(a.useState)(""),t=Object(p.a)(e,2),r=t[0],n=t[1],c=d((function(e){return e.genreAuthor.author})),o=d((function(e){return e.goods})),s=o.limit,u=o.page,l=Object(i.b)(),j=c.filter((function(e){return e.name.toLowerCase().includes(r.toLowerCase())}));return Object(y.jsxs)("form",{className:ut.a.searchBlock,children:[Object(y.jsx)("i",{children:"   "}),Object(y.jsx)(L,{value:r,type:"text",placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0438\u043c\u0435\u043d\u0438 \u0430\u0432\u0442\u043e\u0440\u0430",onChange:function(e){return n(e.target.value)}}),Object(y.jsx)("ul",{className:ut.a.autocomplete,children:r?j.map((function(e){return Object(y.jsx)("li",{className:ut.a.autocomleteItem,onClick:function(){return t=e.id,l(X.getAllGoods(t,null,s,u)),void n("");var t},children:e.name},e.id)})):null})]})},dt=function(){var e=d((function(e){return e.auth.isAuth})),t=d((function(e){return e.auth.user})),r=t.role,n=t.email,c=d((function(e){return e.cart.countGoods})),o=Object(l.g)(),s=Object(i.b)();return Object(a.useEffect)((function(){s(_e.getProductListFromCart())}),[]),Object(y.jsx)("header",{className:st.a.header,children:Object(y.jsxs)("div",{className:st.a.headerWrapper,children:[Object(y.jsxs)(u.b,{to:ue,className:st.a.logo,children:[Object(y.jsx)("img",{src:"data:image/png;base64,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",alt:"logo",height:"20px",width:"20px"}),Object(y.jsx)("span",{className:st.a.logoHeader,children:"BOOKSHELF"})]}),Object(y.jsx)(lt,{}),e?Object(y.jsxs)("div",{className:st.a.buttons,children:["ADMIN"===r&&Object(y.jsx)("span",{className:st.a.iconCog,onClick:function(){return o.push(ie)}}),Object(y.jsxs)("div",{className:st.a.cartButton,children:[Object(y.jsx)("span",{className:st.a.iconCart,onClick:function(){return o.push(pe)}}),Object(y.jsx)("span",{className:st.a.cartCounter,children:c})]}),Object(y.jsx)(R,{onClick:function(){s(se.logout(n))},children:"\u0412\u044b\u0439\u0442\u0438"})]}):Object(y.jsxs)("div",{className:st.a.buttons,children:[Object(y.jsx)("span",{className:st.a.iconCart,onClick:function(){return o.push(le)}}),Object(y.jsx)(R,{onClick:function(){return o.push(le)},children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"})]})]})})},pt=r(36),jt=r.n(pt),ht=function(){return Object(y.jsx)("footer",{className:jt.a.footer,children:Object(y.jsxs)("div",{className:jt.a.wrapper,children:[Object(y.jsx)(u.b,{to:ue,children:Object(y.jsx)("span",{className:jt.a.logoHeader,children:"BOOKSHELF"})}),Object(y.jsx)("span",{className:jt.a.copyright,children:"\xa9 Bookshelf. \u0412\u0441\u0435 \u043f\u0440\u0430\u0432\u0430 \u0437\u0430\u0449\u0438\u0449\u0435\u043d\u044b."})]})})},Ot=function(){var e=Object(i.b)();return Object(a.useEffect)((function(){localStorage.getItem("token")&&e(se.checkAuth())}),[]),Object(y.jsx)(u.a,{children:Object(y.jsxs)("div",{className:ct.a.wrapper,children:[Object(y.jsx)(dt,{}),Object(y.jsx)(nt,{}),Object(y.jsx)(ht,{})]})})},bt={cart:[],isCartLoading:!1,cartError:"",countGoods:0,allCartPrice:0},ft=r(45),vt=r(67),xt={isAuth:!1,user:{},isLoading:!1,error:""},gt={author:[],genre:[],error:"",selectedGenre:[],selectedAuthor:[]},_t={goods:[],isLoading:!1,error:"",product:{},page:1,totalCount:0,limit:12,newProducts:[]},mt=Object(ft.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F.SET_AUTH:return Object(T.a)(Object(T.a)({},e),{},{isAuth:t.payload,isLoading:!1});case F.SET_USER:return Object(T.a)(Object(T.a)({},e),{},{user:t.payload});case F.SET_ERROR:return Object(T.a)(Object(T.a)({},e),{},{error:t.payload,isLoading:!1});case F.SET_IS_LOADING:return Object(T.a)(Object(T.a)({},e),{},{isLoading:t.payload});default:return e}},genreAuthor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.SET_AUTHOR:return Object(T.a)(Object(T.a)({},e),{},{author:t.payload});case n.SET_GENRE:return Object(T.a)(Object(T.a)({},e),{},{genre:t.payload});case n.SET_ERROR:return Object(T.a)(Object(T.a)({},e),{},{error:t.payload});case n.SET_SELECTED_GENRE:return Object(T.a)(Object(T.a)({},e),{},{selectedGenre:[t.payload]});case n.SET_SELECTED_AUTHOR:return Object(T.a)(Object(T.a)({},e),{},{selectedAuthor:[t.payload]});case n.ADD_GENRE:return Object(T.a)(Object(T.a)({},e),{},{genre:[].concat(Object(Q.a)(e.genre),[{id:e.genre.length+1,name:t.payload}])});case n.ADD_AUTHOR:return Object(T.a)(Object(T.a)({},e),{},{author:[].concat(Object(Q.a)(e.author),[{id:e.author.length+1,name:t.payload}])});case n.DELETE_GENRE:return Object(T.a)(Object(T.a)({},e),{},{genre:e.genre.filter((function(e){return e.id!==t.payload}))});case n.DELETE_AUTHOR:return Object(T.a)(Object(T.a)({},e),{},{author:e.author.filter((function(e){return e.id!==t.payload}))});default:return e}},goods:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.SET_GOODS:return Object(T.a)(Object(T.a)({},e),{},{goods:t.payload});case m.SET_IS_LOADING:return Object(T.a)(Object(T.a)({},e),{},{isLoading:t.payload});case m.SET_ERROR:return Object(T.a)(Object(T.a)({},e),{},{error:t.payload,isLoading:!1});case m.SET_PRODUCT:return Object(T.a)(Object(T.a)({},e),{},{product:t.payload});case m.SET_PAGE:return Object(T.a)(Object(T.a)({},e),{},{page:t.payload});case m.SET_TOTAL_COUNT:return Object(T.a)(Object(T.a)({},e),{},{totalCount:t.payload});case m.SET_LIMIT:return Object(T.a)(Object(T.a)({},e),{},{limit:t.payload});case m.SET_NEW_PRODUCTS:return Object(T.a)(Object(T.a)({},e),{},{newProducts:t.payload});case m.ADD_PRODUCT:return Object(T.a)(Object(T.a)({},e),{},{goods:[].concat(Object(Q.a)(e.goods),[t.payload])});case m.DELETE_PRODUCT:return Object(T.a)(Object(T.a)({},e),{},{goods:e.goods.filter((function(e){return e.id!==t.payload}))});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe.SET_CART:return Object(T.a)(Object(T.a)({},e),{},{cart:t.payload});case oe.SET_CART_IS_LOADING:return Object(T.a)(Object(T.a)({},e),{},{isCartLoading:t.payload});case oe.SET_CART_ERROR:return Object(T.a)(Object(T.a)({},e),{},{cartError:t.payload});case oe.SET_COUNT_GOODS:return Object(T.a)(Object(T.a)({},e),{},{countGoods:t.payload});case oe.SET_ALL_CART_PRICE:return Object(T.a)(Object(T.a)({},e),{},{allCartPrice:t.payload});default:return e}}}),At=Object(ft.c)(mt,Object(ft.a)(vt.a));s.a.render(Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)(i.a,{store:At,children:Object(y.jsx)(Ot,{})})}),document.getElementById("root"))},11:function(e,t,r){e.exports={loading:"ProductPage_loading__duJmD",product:"ProductPage_product__2DWRP",description:"ProductPage_description__1314k",price:"ProductPage_price__1sqhz",ratingBlock:"ProductPage_ratingBlock__3Ol_u",ratingValue:"ProductPage_ratingValue__2xmV3",properties:"ProductPage_properties__3SF9v",proprtiesList:"ProductPage_proprtiesList__2TTz3",propertiesHeader:"ProductPage_propertiesHeader__2jRZ_",propertiesValue:"ProductPage_propertiesValue__1nf2N",productDiscription:"ProductPage_productDiscription__iRyVB",productDiscriptionText:"ProductPage_productDiscriptionText__1nkop"}},19:function(e,t,r){e.exports={header:"NavBar_header__i9SP9",headerWrapper:"NavBar_headerWrapper__jeUIV",logo:"NavBar_logo__v8FS-",logoHeader:"NavBar_logoHeader__24qef",buttons:"NavBar_buttons__2VAJe",cartButton:"NavBar_cartButton__datal",cartCounter:"NavBar_cartCounter__2GvgZ",iconCart:"NavBar_iconCart__3lbgf",iconCog:"NavBar_iconCog__1n2u6"}},20:function(e,t,r){e.exports={shopBody:"Shop_shopBody__3eQM_",startBlock:"Shop_startBlock__2M7W-",wrapper:"Shop_wrapper__1C7KD",mainHeaders:"Shop_mainHeaders__3eXi0",firstHeader:"Shop_firstHeader__V_wZc",slider:"Shop_slider__32Ova",sliderBlock:"Shop_sliderBlock__1jNHl",poster:"Shop_poster__Qgr0z",shopHeader:"Shop_shopHeader__13xXW",shop:"Shop_shop__1I7Rd"}},23:function(e,t,r){e.exports={authForm:"Auth_authForm__FhDVg",formTable:"Auth_formTable__15Obz",error:"Auth_error__3DBfp",link:"Auth_link__162Jj",registLink:"Auth_registLink__3FOXw",notActive:"Auth_notActive__2g4KG"}},24:function(e,t,r){e.exports={productCart:"ProductCart_productCart__36uyN",loading:"ProductCart_loading__3dYpN",productInfo:"ProductCart_productInfo__2BChz",productImg:"ProductCart_productImg__1Pl12",productName:"ProductCart_productName__2VEDf",price:"ProductCart_price__1KCgx",rating:"ProductCart_rating__26Pee"}},25:function(e,t,r){e.exports={productItem:"ProductInCart_productItem__3Jh0n",grupItem:"ProductInCart_grupItem__va6lS",counterBlock:"ProductInCart_counterBlock__2ZyZ5",counter:"ProductInCart_counter__1oI1b",productImg:"ProductInCart_productImg__104Xp",productPrice:"ProductInCart_productPrice__1XmB1"}},28:function(e,t,r){e.exports={genreAuthor:"AdminCategories_genreAuthor__2jx6k",table:"AdminCategories_table__NMu3P",categoriesItem:"AdminCategories_categoriesItem__1aCfj"}},29:function(e,t,r){e.exports={cart:"Cart_cart__2LOI3",emptyCart:"Cart_emptyCart__1XqwV",emptyCartText:"Cart_emptyCartText__25_OE",line:"Cart_line__3sZSF",totalPrice:"Cart_totalPrice__7oSa4"}},30:function(e,t,r){e.exports={listGenre:"GenreBar_listGenre__1fAry",listItem:"GenreBar_listItem__1wX4F",selected:"GenreBar_selected__tHlQb"}},31:function(e,t,r){e.exports={pagination:"Pagination_pagination__2AMcA",page:"Pagination_page__2adDj",activePage:"Pagination_activePage__12g4s",points:"Pagination_points__3C8tv"}},35:function(e,t,r){e.exports={adminPage:"Admin_adminPage__2QTsd",selectPanel:"Admin_selectPanel__1tBuV",screen:"Admin_screen__170Wo",selected:"Admin_selected__1P_-Z"}},36:function(e,t,r){e.exports={footer:"Footer_footer__2ikah",wrapper:"Footer_wrapper__3C0pp",logoHeader:"Footer_logoHeader__Xqucp",copyright:"Footer_copyright__1DDZw"}},40:function(e,t,r){e.exports={open:"ModalCategories_open__1xK7x",close:"ModalCategories_close__3FiXc",modalWrapper:"ModalCategories_modalWrapper__3-cwl"}},41:function(e,t,r){e.exports={selectButton:"MySelect_selectButton__1e4Cg",listBlock:"MySelect_listBlock__FbO6d",listItem:"MySelect_listItem__1aa0A"}},42:function(e,t,r){e.exports={open:"ModalGoods_open__2mVh4",close:"ModalGoods_close__20TSf",modalWrapper:"ModalGoods_modalWrapper__1OzO1"}},43:function(e,t,r){e.exports={slide:"Slide_slide__1PByO",bookCover:"Slide_bookCover__2wNTy",rating:"Slide_rating__2_ljW"}},44:function(e,t,r){e.exports={searchBlock:"SearchInput_searchBlock__3n-nk",autocomplete:"SearchInput_autocomplete__3YDk2",autocomleteItem:"SearchInput_autocomleteItem__1gVJV"}},49:function(e,t,r){e.exports={button:"MyButton_button__2YhKZ",disable:"MyButton_disable__3a0pK"}},60:function(e,t,r){e.exports={input:"MyInput_input__2bsgo"}},61:function(e,t,r){e.exports={goodsTable:"AdminGoods_goodsTable__xiIlj"}},64:function(e,t,r){e.exports={goods:"Goods_goods__1iP5p"}},65:function(e,t,r){e.exports={main:"AppRouter_main__3ppAp"}},66:function(e,t,r){e.exports={wrapper:"App_wrapper__25n15"}},72:function(e,t,r){}},[[100,1,2]]]);
//# sourceMappingURL=main.0fc04a52.chunk.js.map