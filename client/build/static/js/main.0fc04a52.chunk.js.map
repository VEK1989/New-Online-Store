{"version":3,"sources":["types/genreAuthor.ts","hooks/useTypedSelector.tsx","http/index.ts","types/goods.ts","service/GenreAuthorService.ts","store/action-creators/genreAuthorActionCreator.ts","components/ui/MyButton/MyButton.tsx","components/ui/MyInput/MyInput.tsx","components/Modals/ModalCategories/ModalCategories.tsx","components/AdminCategories/AdminCategories.tsx","service/GoodsService.ts","store/action-creators/goodsActionCreator.ts","types/auth.ts","components/ui/MySelect/MySelect.tsx","components/Modals/ModalGoods/ModalGoods.tsx","components/AdminGoods/AdminGoods.tsx","pages/Admin/Admin.tsx","service/AuthService.ts","store/action-creators/authActionCreator.ts","types/cart.ts","utils/consts.jsx","pages/Auth/Auth.tsx","images/EmptyCart.png","service/CartService.ts","store/action-creators/cartActionCreator.ts","components/ProductInCart/ProductInCart.tsx","pages/Cart/Cart.tsx","components/StarRating/StarRating.tsx","images/loading.gif","pages/Product/ProductPage.tsx","components/GenreBar/GenreBar.tsx","images/star.png","components/ProductCart/ProductCart.tsx","components/Goods/Goods.tsx","components/Pagination/Pagination.tsx","components/Slide/Slide.tsx","components/Slider/Slider.tsx","router/route.tsx","pages/Shop/Shop.tsx","components/AppRouter/AppRouter.tsx","components/SearchInput/SearchInput.tsx","components/NavBar/NavBar.tsx","images/books_logo.png","components/Footer/Footer.tsx","App.tsx","store/reducers/cartReducer.ts","store/reducers/authReducer.ts","store/reducers/genreAuthorReducer.ts","store/reducers/goodsReducer.ts","store/store.ts","index.tsx","pages/Product/ProductPage.module.css","components/NavBar/NavBar.module.css","pages/Shop/Shop.module.css","pages/Auth/Auth.module.css","components/ProductCart/ProductCart.module.css","components/ProductInCart/ProductInCart.module.css","components/AdminCategories/AdminCategories.module.css","pages/Cart/Cart.module.css","components/GenreBar/GenreBar.module.css","components/Pagination/Pagination.module.css","pages/Admin/Admin.module.css","components/Footer/Footer.module.css","components/Modals/ModalCategories/ModalCategories.module.css","components/ui/MySelect/MySelect.module.css","components/Modals/ModalGoods/ModalGoods.module.css","components/Slide/Slide.module.css","components/SearchInput/SearchInput.module.css","components/ui/MyButton/MyButton.module.css","components/ui/MyInput/MyInput.module.css","components/AdminGoods/AdminGoods.module.css","components/Goods/Goods.module.css","components/AppRouter/AppRouter.module.css","App.module.css"],"names":["GenreAuthorActionTypes","useTypedSelector","useSelector","API_URL","apiInstance","axios","create","withCredentials","baseURL","interceptors","request","use","config","headers","authorization","localStorage","getItem","response","a","error","originalRequest","status","_isRetry","get","setItem","data","accessToken","console","log","GoodsActionTypes","GenreAuthorService","genre","post","id","delete","author","GenreAuthorActionCreator","setAuthor","type","SET_AUTHOR","payload","setGenre","SET_GENRE","setError","SET_ERROR","setSelectedGenre","SET_SELECTED_GENRE","setSelectedAuthor","SET_SELECTED_AUTHOR","addGenre","name","ADD_GENRE","addAuthor","ADD_AUTHOR","deleteGenre","DELETE_GENRE","deleteAuthor","DELETE_AUTHOR","loadingGenre","dispatch","getGenre","message","loadingAuthor","getAthor","addNewGenre","genreName","createGenre","addNewAuthor","authorName","createAuthor","removeGenre","removeAuthor","MyButton","children","props","className","disabled","style","disable","button","MyInput","input","ModalCategories","visible","onHide","modalHeader","state","genreAuthor","useState","value","setValue","useDispatch","open","close","onClick","modalWrapper","e","stopPropagation","dontClose","placeholder","onChange","target","AdminCategories","authorVisible","setAuthorVisible","genreVisible","setGenreVisible","categoriesItem","table","map","item","GoodsService","authorId","genreId","limit","page","params","product","AuthActionTypes","GoodsActionCreator","setGoods","goods","SET_GOODS","setIsLoading","loading","SET_IS_LOADING","setProduct","SET_PRODUCT","setPage","SET_PAGE","setTotalCount","totalCount","SET_TOTAL_COUNT","setLimit","SET_LIMIT","setNewPoducts","newProducts","SET_NEW_PRODUCTS","addOneProduct","ADD_PRODUCT","deleteOneProduct","DELETE_PRODUCT","getAllGoods","fetchGoods","rows","count","errors","getOneProduct","fetchProduct","getNewGoods","createProduct","formData","removeOneProduct","deleteProduct","MySelect","list","firstName","slectedItem","itemsList","setItemsList","selectButton","preventDefault","showList","undefined","listBlock","selectListItem","listItem","ModalGoods","selectedAuthor","selectedGenre","setName","price","setPrice","file","setFile","title","description","info","setInfo","Number","files","i","key","newProduct","length","img","rating","FormData","append","JSON","stringify","addProduct","AdminGoods","setVisible","useEffect","goodsTable","src","alt","width","height","Admin","selectedScreenName","setSelectedScreenName","adminPage","selectPanel","chapter","selected","screen","ClickOnChapter","AuthService","email","password","CartActionTypes","AuthActionCreator","setUser","user","SET_USER","setIsAuth","auth","SET_AUTH","login","registration","logout","removeItem","checkAuth","ADMIN_ROUTE","SHOP_ROUTE","LOGIN_ROUTE","REGISTRATION_ROUTE","CART_ROUTE","PRODUCT_ROUTE","Auth","isAuth","isLogin","useLocation","pathname","history","useHistory","setEmail","setPassword","isActivated","push","notActive","authForm","formTable","registLink","link","to","CartService","CartActionCreator","setCart","cart","SET_CART","setCartIsLoading","SET_CART_IS_LOADING","SET_CART_ERROR","setCountGoods","countGoods","SET_COUNT_GOODS","setAllCartPrice","allCartPrice","SET_ALL_CART_PRICE","getProductListFromCart","fetchCart","putProductInMyCart","putProductInCart","deleteProductFromCart","deleteFromCart","ProductInCart","counter","setCounter","newCart","filter","productItem","grupItem","productImg","counterBlock","decrement","increament","productPrice","Cart","allPrice","reduce","sum","line","totalPrice","emptyCart","emptyCartText","StarRating","ratingValue","ProductPage","location","isInCart","setIsInCart","isLoading","split","find","properties","ratingBlock","proprtiesList","propertiesHeader","propertiesValue","inCart","productDiscription","productDiscriptionText","GenreBar","genres","listGenre","selectGenre","ProductCart","productCart","productInfo","productName","star","Goods","Pagination","statePage","pageCount","Math","ceil","portionNumber","setPortionNumber","pages","portionCount","leftPortionPageNumber","rightPortionPageNumber","pagination","points","p","activePage","selectPage","Slide","image","slide","bookCover","SwiperCore","Navigation","Autoplay","Slider","lastPage","floor","autoplay","spaceBetween","slidesPerView","reverse","privateRoutes","path","Component","publicRoutes","shopBody","startBlock","wrapper","mainHeaders","firstHeader","slider","sliderBlock","poster","shopHeader","shop","AppRouter","main","component","exact","SearchInput","search","setSearch","authors","filterAuthorByName","toLowerCase","includes","searchBlock","autocomplete","autocomleteItem","NavBar","role","header","headerWrapper","logo","logoHeader","buttons","iconCog","cartButton","iconCart","cartCounter","Footer","footer","copyright","App","initialState","isCartLoading","cartError","reducers","combineReducers","action","store","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.0fc04a52.chunk.js","sourcesContent":["import { IGenre, IAuthor } from './IGenreAuthor'\r\n\r\nexport interface TGenreAuth {\r\n\tauthor: IAuthor[],\r\n\tgenre: IGenre[],\r\n\terror: string,\r\n\tselectedGenre: IGenre[] | any[],\r\n\tselectedAuthor: IAuthor[] | any[]\r\n}\r\n\r\nexport enum GenreAuthorActionTypes {\r\n\tSET_GENRE = 'SET_GENRE',\r\n\tSET_AUTHOR = 'SET_AUTHOR',\r\n\tSET_ERROR = 'SET_ERROR',\r\n\tSET_SELECTED_GENRE = 'SET_SELECTED_GENRE',\r\n\tSET_SELECTED_AUTHOR = 'SET_SELECTED_AUTHOR',\r\n\tADD_GENRE = 'ADD_GENRE',\r\n\tADD_AUTHOR = 'ADD_AUTHOR',\r\n\tDELETE_GENRE = 'DELETE_GENRE',\r\n\tDELETE_AUTHOR = 'DELETE_AUTHOR'\r\n}\r\n\r\ninterface SetGenreAction {\r\n\ttype: GenreAuthorActionTypes.SET_GENRE,\r\n\tpayload: IGenre[]\r\n}\r\n\r\ninterface SetAuthorAction {\r\n\ttype: GenreAuthorActionTypes.SET_AUTHOR,\r\n\tpayload: IAuthor[]\r\n}\r\n\r\ninterface SetErrorAction {\r\n\ttype: GenreAuthorActionTypes.SET_ERROR,\r\n\tpayload: string\r\n}\r\n\r\ninterface SetSelectedGenreAction {\r\n\ttype: GenreAuthorActionTypes.SET_SELECTED_GENRE,\r\n\tpayload: IGenre | any[]\r\n}\r\n\r\ninterface SetSelectedAuthor {\r\n\ttype: GenreAuthorActionTypes.SET_SELECTED_AUTHOR,\r\n\tpayload: IAuthor | any[]\r\n}\r\n\r\ninterface AddGenreAction {\r\n\ttype: GenreAuthorActionTypes.ADD_GENRE,\r\n\tpayload: string\r\n}\r\n\r\ninterface AddAuthorAction {\r\n\ttype: GenreAuthorActionTypes.ADD_AUTHOR,\r\n\tpayload: string\r\n}\r\n\r\ninterface DeleteAuthorAction {\r\n\ttype: GenreAuthorActionTypes.DELETE_AUTHOR,\r\n\tpayload: number\r\n}\r\n\r\ninterface DeleteGenreAction {\r\n\ttype: GenreAuthorActionTypes.DELETE_GENRE,\r\n\tpayload: number\r\n}\r\n\r\nexport type GenreAuthorActions =\r\n\tSetGenreAction |\r\n\tSetAuthorAction |\r\n\tSetErrorAction |\r\n\tSetSelectedGenreAction |\r\n\tSetSelectedAuthor |\r\n\tAddGenreAction |\r\n\tAddAuthorAction |\r\n\tDeleteAuthorAction |\r\n\tDeleteGenreAction","import { TypedUseSelectorHook, useSelector } from 'react-redux'\r\nimport { RootState } from '../store/store'\r\n\r\nexport const useTypedSelector: TypedUseSelectorHook<RootState> = useSelector","import axios from 'axios'\r\nimport { AuthResponse } from '../types/authResponse'\r\n\r\nexport const API_URL = `http://localhost:5000/api/`\r\n\r\nconst apiInstance = axios.create({\r\n\twithCredentials: true,\r\n\tbaseURL: API_URL\r\n})\r\n\r\napiInstance.interceptors.request.use((config) => {\r\n\tconfig.headers.authorization = `Bearer ${localStorage.getItem('token')}`\r\n\treturn config\r\n})\r\n\r\napiInstance.interceptors.response.use((config) => {\r\n\treturn config\r\n}, async (error) => {\r\n\tconst originalRequest = error.config\r\n\tif (error.response.status == 401 && error.config && !error.config._isRetry) {\r\n\t\toriginalRequest._isRetry = true\r\n\t\ttry {\r\n\t\t\tconst response = await axios.get<AuthResponse>(`${API_URL}user/refresh`, { withCredentials: true })\r\n\t\t\tlocalStorage.setItem('token', response.data.accessToken)\r\n\t\t\treturn apiInstance.request(originalRequest)\r\n\t\t}\r\n\t\tcatch (e) {\r\n\t\t\tconsole.log('Не авторизован')\r\n\t\t}\r\n\t}\r\n\tthrow error\r\n})\r\n\r\nexport default apiInstance","import { IProduct } from './IProduct'\r\n\r\n\r\nexport interface IGoodsList {\r\n\tgoods: IProduct[],\r\n\tisLoading: boolean,\r\n\terror: string,\r\n\tproduct: IProduct,\r\n\tpage: number,\r\n\ttotalCount: number,\r\n\tlimit: number,\r\n\tnewProducts: IProduct[]\r\n}\r\n\r\nexport enum GoodsActionTypes {\r\n\tSET_GOODS = 'SET_GOODS',\r\n\tSET_IS_LOADING = 'SET_IS_LOADING',\r\n\tSET_ERROR = 'SET_ERROR',\r\n\tSET_PRODUCT = 'SET_PRODUCT',\r\n\tSET_PAGE = 'SET_PAGE',\r\n\tSET_TOTAL_COUNT = 'SET_TOTAL_COUNT',\r\n\tSET_LIMIT = 'SET_LIMIT',\r\n\tSET_NEW_PRODUCTS = 'SET_NEW_PRODUCTS',\r\n\tADD_PRODUCT = 'ADD_PRODUCT',\r\n\tDELETE_PRODUCT = 'DELETE_PRODUCT'\r\n}\r\n\r\ninterface SetGoodsAction {\r\n\ttype: GoodsActionTypes.SET_GOODS,\r\n\tpayload: IProduct[]\r\n}\r\n\r\ninterface SetIsLoadingAction {\r\n\ttype: GoodsActionTypes.SET_IS_LOADING,\r\n\tpayload: boolean\r\n}\r\n\r\ninterface SetErrorAction {\r\n\ttype: GoodsActionTypes.SET_ERROR,\r\n\tpayload: string\r\n}\r\n\r\ninterface SetProductAction {\r\n\ttype: GoodsActionTypes.SET_PRODUCT,\r\n\tpayload: IProduct\r\n}\r\n\r\ninterface SetPageAction {\r\n\ttype: GoodsActionTypes.SET_PAGE,\r\n\tpayload: number\r\n}\r\n\r\ninterface SetTotalCountAction {\r\n\ttype: GoodsActionTypes.SET_TOTAL_COUNT,\r\n\tpayload: number\r\n}\r\n\r\ninterface SetLimitAction {\r\n\ttype: GoodsActionTypes.SET_LIMIT,\r\n\tpayload: number\r\n}\r\n\r\ninterface SetNewProductsAction {\r\n\ttype: GoodsActionTypes.SET_NEW_PRODUCTS,\r\n\tpayload: IProduct[]\r\n}\r\n\r\ninterface AddProductAction {\r\n\ttype: GoodsActionTypes.ADD_PRODUCT,\r\n\tpayload: IProduct\r\n}\r\n\r\ninterface DeleteProductAction {\r\n\ttype: GoodsActionTypes.DELETE_PRODUCT,\r\n\tpayload: number\r\n}\r\n\r\nexport type GoodsActions =\r\n\tSetGoodsAction |\r\n\tSetIsLoadingAction |\r\n\tSetErrorAction |\r\n\tSetProductAction |\r\n\tSetPageAction |\r\n\tSetTotalCountAction |\r\n\tSetLimitAction |\r\n\tSetNewProductsAction |\r\n\tAddProductAction |\r\n\tDeleteProductAction\r\n\r\n","import { AxiosResponse } from 'axios'\r\nimport apiInstance from '../http/index'\r\nimport { IAuthor, IGenre } from '../types/IGenreAuthor'\r\n\r\nexport default class GenreAuthorService {\r\n\tstatic async getGenre(): Promise<AxiosResponse<IGenre[]>> {\r\n\t\treturn await apiInstance.get<IGenre[]>('genre')\r\n\t}\r\n\r\n\tstatic async createGenre(genre: { name: string }): Promise<AxiosResponse> {\r\n\t\treturn await apiInstance.post('genre', genre)\r\n\t}\r\n\r\n\tstatic async deleteGenre(id: number): Promise<AxiosResponse> {\r\n\t\treturn await apiInstance.delete(`genre/${id}`)\r\n\t}\r\n\r\n\tstatic async getAthor(): Promise<AxiosResponse<IAuthor[]>> {\r\n\t\treturn await apiInstance.get<IAuthor[]>('author')\r\n\t}\r\n\r\n\tstatic async createAuthor(author: { name: string }): Promise<AxiosResponse> {\r\n\t\treturn await apiInstance.post('author', author)\r\n\t}\r\n\r\n\tstatic async deleteAuthor(id: number): Promise<AxiosResponse> {\r\n\t\treturn await apiInstance.delete(`author/${id}`)\r\n\t}\r\n}","import { GenreAuthorActions, GenreAuthorActionTypes } from './../../types/genreAuthor'\r\nimport { IAuthor, IGenre } from '../../types/IGenreAuthor'\r\nimport { AppDispatch } from '../store'\r\nimport GenreAuthorService from '../../service/GenreAuthorService'\r\n\r\n\r\nexport const GenreAuthorActionCreator = {\r\n\tsetAuthor: (author: IAuthor[]): GenreAuthorActions => ({ type: GenreAuthorActionTypes.SET_AUTHOR, payload: author }),\r\n\tsetGenre: (genre: IGenre[]): GenreAuthorActions => ({ type: GenreAuthorActionTypes.SET_GENRE, payload: genre }),\r\n\tsetError: (error: string): GenreAuthorActions => ({ type: GenreAuthorActionTypes.SET_ERROR, payload: error }),\r\n\tsetSelectedGenre: (genre: IGenre | any[]): GenreAuthorActions => ({ type: GenreAuthorActionTypes.SET_SELECTED_GENRE, payload: genre }),\r\n\tsetSelectedAuthor: (author: IAuthor | any[]): GenreAuthorActions => ({ type: GenreAuthorActionTypes.SET_SELECTED_AUTHOR, payload: author }),\r\n\taddGenre: (name: string): GenreAuthorActions => ({ type: GenreAuthorActionTypes.ADD_GENRE, payload: name }),\r\n\taddAuthor: (name: string): GenreAuthorActions => ({ type: GenreAuthorActionTypes.ADD_AUTHOR, payload: name }),\r\n\tdeleteGenre: (id: number): GenreAuthorActions => ({ type: GenreAuthorActionTypes.DELETE_GENRE, payload: id }),\r\n\tdeleteAuthor: (id: number): GenreAuthorActions => ({ type: GenreAuthorActionTypes.DELETE_AUTHOR, payload: id }),\r\n\r\n\tloadingGenre: () => async (dispatch: AppDispatch) => {\r\n\t\ttry {\r\n\t\t\tconst response = await GenreAuthorService.getGenre()\r\n\t\t\tdispatch(GenreAuthorActionCreator.setGenre(response.data))\r\n\t\t}\r\n\t\tcatch (e: any) {\r\n\t\t\tdispatch(GenreAuthorActionCreator.setError(e.response?.data?.message))\r\n\t\t}\r\n\t},\r\n\r\n\tloadingAuthor: () => async (dispatch: AppDispatch) => {\r\n\t\ttry {\r\n\t\t\tconst response = await GenreAuthorService.getAthor()\r\n\t\t\tdispatch(GenreAuthorActionCreator.setAuthor(response.data))\r\n\t\t}\r\n\t\tcatch (e: any) {\r\n\t\t\tdispatch(GenreAuthorActionCreator.setError(e.response?.data?.message))\r\n\t\t}\r\n\t},\r\n\r\n\taddNewGenre: (genreName: string) => async (dispatch: AppDispatch) => {\r\n\t\ttry {\r\n\t\t\tawait GenreAuthorService.createGenre({ name: genreName })\r\n\t\t\tdispatch(GenreAuthorActionCreator.addGenre(genreName))\r\n\t\t}\r\n\t\tcatch (e: any) {\r\n\t\t\tdispatch(GenreAuthorActionCreator.setError(e.response?.data?.message))\r\n\t\t}\r\n\t},\r\n\r\n\taddNewAuthor: (authorName: string) => async (dispatch: AppDispatch) => {\r\n\t\ttry {\r\n\t\t\tawait GenreAuthorService.createAuthor({ name: authorName })\r\n\t\t\tdispatch(GenreAuthorActionCreator.addAuthor(authorName))\r\n\t\t}\r\n\t\tcatch (e: any) {\r\n\t\t\tdispatch(GenreAuthorActionCreator.setError(e.response?.data?.message))\r\n\t\t}\r\n\t},\r\n\r\n\tremoveGenre: (id: number) => async (dispatch: AppDispatch) => {\r\n\t\ttry {\r\n\t\t\tawait GenreAuthorService.deleteGenre(id)\r\n\t\t\tdispatch(GenreAuthorActionCreator.deleteGenre(id))\r\n\t\t}\r\n\t\tcatch (e: any) {\r\n\t\t\tdispatch(GenreAuthorActionCreator.setError(e.response?.data?.message))\r\n\t\t}\r\n\t},\r\n\r\n\tremoveAuthor: (id: number) => async (dispatch: AppDispatch) => {\r\n\t\ttry {\r\n\t\t\tawait GenreAuthorService.deleteAuthor(id)\r\n\t\t\tdispatch(GenreAuthorActionCreator.deleteAuthor(id))\r\n\t\t}\r\n\t\tcatch (e: any) {\r\n\t\t\tdispatch(GenreAuthorActionCreator.setError(e.response?.data?.message))\r\n\t\t}\r\n\t},\r\n}","import React from 'react'\r\nimport style from './MyButton.module.css'\r\n\r\ninterface IPropsButton {\r\n\tonClick?: React.MouseEventHandler<HTMLButtonElement>,\r\n\tvalue?: string,\r\n\tdisabled?: boolean\r\n}\r\n\r\nconst MyButton: React.FC<IPropsButton> = ({ children, ...props }) => {\r\n\treturn (\r\n\t\t<button {...props} className={!props.disabled ? style.button : style.disable}>\r\n\t\t\t{children}\r\n\t\t</button>\r\n\t);\r\n};\r\n\r\nexport default MyButton;","import React from 'react'\r\nimport style from './MyInput.module.css'\r\n\r\ninterface InputProps {\r\n\tonChange?: React.ChangeEventHandler<HTMLInputElement>,\r\n\tvalue?: string | number,\r\n\ttype?: string,\r\n\tplaceholder?: string\r\n}\r\n\r\nconst MyInput: React.FC<InputProps> = (props) => {\r\n\treturn (\r\n\t\t<input className={style.input} {...props} />\r\n\t);\r\n};\r\n\r\nexport default MyInput;","import React, { useState } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { useTypedSelector } from '../../../hooks/useTypedSelector'\r\nimport { GenreAuthorActionCreator } from '../../../store/action-creators/genreAuthorActionCreator'\r\nimport MyButton from '../../ui/MyButton/MyButton'\r\nimport MyInput from '../../ui/MyInput/MyInput'\r\nimport style from './ModalCategories.module.css'\r\n\r\ninterface ModalProps {\r\n\tvisible: boolean,\r\n\tonHide: React.Dispatch<React.SetStateAction<boolean>>,\r\n\tmodalHeader: string\r\n}\r\n\r\nconst ModalCategories: React.FC<ModalProps> = ({ visible, onHide, modalHeader }) => {\r\n\tconst { error } = useTypedSelector(state => state.genreAuthor)\r\n\tconst [value, setValue] = useState('')\r\n\tconst dispatch = useDispatch()\r\n\r\n\tconst dontClose = (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\r\n\t\te.stopPropagation()\r\n\t}\r\n\r\n\tconst addCategory = () => {\r\n\t\tif (modalHeader === 'Добавить автора') {\r\n\t\t\tdispatch(GenreAuthorActionCreator.addNewAuthor(value))\r\n\t\t\tsetValue('')\r\n\t\t\tonHide(false)\r\n\t\t}\r\n\t\telse if (modalHeader === 'Добавить жанр') {\r\n\t\t\tdispatch(GenreAuthorActionCreator.addNewGenre(value))\r\n\t\t\tsetValue('')\r\n\t\t\tonHide(false)\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={visible ? style.open : style.close} onClick={() => onHide(false)}>\r\n\t\t\t<div className={style.modalWrapper} onClick={(e) => dontClose(e)}>\r\n\t\t\t\t<h3>{modalHeader}</h3>\r\n\t\t\t\t<form >\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\terror\r\n\t\t\t\t\t\t\t? <h4>{error}</h4>\r\n\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<MyInput\r\n\t\t\t\t\t\tplaceholder={'Введите название'}\r\n\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\tonChange={e => setValue(e.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</form>\r\n\t\t\t\t<MyButton onClick={() => onHide(false)}>Закрыть</MyButton>\r\n\t\t\t\t<MyButton onClick={() => addCategory()}>Добавить</MyButton>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ModalCategories;","import React, { useState } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { useTypedSelector } from '../../hooks/useTypedSelector'\r\nimport { GenreAuthorActionCreator } from '../../store/action-creators/genreAuthorActionCreator'\r\nimport ModalCategories from '../Modals/ModalCategories/ModalCategories'\r\nimport MyButton from '../ui/MyButton/MyButton'\r\nimport style from './AdminCategories.module.css'\r\n\r\nconst AdminCategories: React.FC = () => {\r\n\tconst dispatch = useDispatch()\r\n\r\n\tconst { author, genre } = useTypedSelector(state => state.genreAuthor)\r\n\r\n\tconst [authorVisible, setAuthorVisible] = useState(false)\r\n\tconst [genreVisible, setGenreVisible] = useState(false)\r\n\r\n\tconst deleteSelectedGenre = (id: number) => {\r\n\t\tdispatch(GenreAuthorActionCreator.removeGenre(id))\r\n\t}\r\n\r\n\tconst deleteSelectedAuthor = (id: number) => {\r\n\t\tdispatch(GenreAuthorActionCreator.removeAuthor(id))\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className={style.genreAuthor}>\r\n\t\t\t\t<div className={style.categoriesItem}>\r\n\t\t\t\t\t<MyButton onClick={() => setGenreVisible(true)}>Добавить жанр</MyButton>\r\n\t\t\t\t\t<table className={style.table}>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>id</th>\r\n\t\t\t\t\t\t\t\t<th>Название жанра</th>\r\n\t\t\t\t\t\t\t\t<th>Действия</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tgenre.map((item) => (\r\n\t\t\t\t\t\t\t\t\t<tr key={item.name}>\r\n\t\t\t\t\t\t\t\t\t\t<td>{item.id}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{item.name}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td><MyButton onClick={() => deleteSelectedGenre(item.id)}>X</MyButton></td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={style.categoriesItem}>\r\n\t\t\t\t\t<MyButton onClick={() => setAuthorVisible(true)}>Добавить автора</MyButton>\r\n\t\t\t\t\t<table className={style.table}>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>id</th>\r\n\t\t\t\t\t\t\t\t<th>Имя автора</th>\r\n\t\t\t\t\t\t\t\t<th>Действия</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tauthor.map((item) => (\r\n\t\t\t\t\t\t\t\t\t<tr key={item.name}>\r\n\t\t\t\t\t\t\t\t\t\t<td>{item.id}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{item.name}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td><MyButton onClick={() => deleteSelectedAuthor(item.id)}>X</MyButton></td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<ModalCategories\r\n\t\t\t\tmodalHeader={'Добавить жанр'}\r\n\t\t\t\tvisible={genreVisible}\r\n\t\t\t\tonHide={() => setGenreVisible(false)}\r\n\t\t\t/>\r\n\t\t\t<ModalCategories\r\n\t\t\t\tmodalHeader={'Добавить автора'}\r\n\t\t\t\tvisible={authorVisible}\r\n\t\t\t\tonHide={() => setAuthorVisible(false)}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default AdminCategories;","import { IProduct } from './../types/IProduct'\r\nimport { AxiosResponse } from 'axios'\r\nimport apiInstance from '../http'\r\nimport { GoodsResponse } from '../types/goodsResponse'\r\n\r\nexport default class GoodsService {\r\n\tstatic async fetchGoods(authorId?: number | null, genreId?: number | null, limit?: number, page?: number): Promise<AxiosResponse<GoodsResponse>> {\r\n\t\treturn await apiInstance.get<GoodsResponse>('book', {\r\n\t\t\tparams: {\r\n\t\t\t\tauthorId, genreId, limit, page\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tstatic async createProduct(product: FormData): Promise<AxiosResponse> {\r\n\t\treturn await apiInstance.post('book', product)\r\n\t}\r\n\r\n\tstatic async deleteProduct(id: number): Promise<AxiosResponse> {\r\n\t\treturn await apiInstance.delete(`book/${id}`)\r\n\t}\r\n\r\n\tstatic async fetchProduct(id: number): Promise<AxiosResponse<IProduct>> {\r\n\t\treturn await apiInstance.get<IProduct>(`book/${id}`)\r\n\t}\r\n}\r\n\r\n","import { IProduct } from './../../types/IProduct'\r\nimport GoodsService from '../../service/GoodsService'\r\nimport { AppDispatch } from '../store'\r\nimport { GoodsActions, GoodsActionTypes } from './../../types/goods'\r\n\r\nexport const GoodsActionCreator = {\r\n\tsetGoods: (goods: IProduct[]): GoodsActions => ({ type: GoodsActionTypes.SET_GOODS, payload: goods }),\r\n\tsetIsLoading: (loading: boolean): GoodsActions => ({ type: GoodsActionTypes.SET_IS_LOADING, payload: loading }),\r\n\tsetError: (error: string): GoodsActions => ({ type: GoodsActionTypes.SET_ERROR, payload: error }),\r\n\tsetProduct: (product: IProduct): GoodsActions => ({ type: GoodsActionTypes.SET_PRODUCT, payload: product }),\r\n\tsetPage: (page: number): GoodsActions => ({ type: GoodsActionTypes.SET_PAGE, payload: page }),\r\n\tsetTotalCount: (totalCount: number): GoodsActions => ({ type: GoodsActionTypes.SET_TOTAL_COUNT, payload: totalCount }),\r\n\tsetLimit: (limit: number): GoodsActions => ({ type: GoodsActionTypes.SET_LIMIT, payload: limit }),\r\n\tsetNewPoducts: (newProducts: IProduct[]): GoodsActions => ({ type: GoodsActionTypes.SET_NEW_PRODUCTS, payload: newProducts }),\r\n\taddOneProduct: (product: IProduct): GoodsActions => ({ type: GoodsActionTypes.ADD_PRODUCT, payload: product }),\r\n\tdeleteOneProduct: (id: number): GoodsActions => ({ type: GoodsActionTypes.DELETE_PRODUCT, payload: id }),\r\n\r\n\tgetAllGoods: (authorId?: number | null, genreId?: number | null, limit?: number, page?: number) => async (dispatch: AppDispatch) => {\r\n\t\ttry {\r\n\t\t\tdispatch(GoodsActionCreator.setIsLoading(true))\r\n\t\t\tconst response = await GoodsService.fetchGoods(authorId, genreId, limit, page)\r\n\t\t\tdispatch(GoodsActionCreator.setGoods(response.data.rows))\r\n\t\t\tdispatch(GoodsActionCreator.setTotalCount(response.data.count))\r\n\t\t}\r\n\t\tcatch (e: any) {\r\n\t\t\tdispatch(GoodsActionCreator.setError(e.response?.data?.errors))\r\n\t\t}\r\n\t\tfinally {\r\n\t\t\tdispatch(GoodsActionCreator.setIsLoading(false))\r\n\t\t}\r\n\t},\r\n\r\n\tgetOneProduct: (id: number) => async (dispatch: AppDispatch) => {\r\n\t\ttry {\r\n\t\t\tdispatch(GoodsActionCreator.setIsLoading(true))\r\n\t\t\tconst response = await GoodsService.fetchProduct(id)\r\n\t\t\tdispatch(GoodsActionCreator.setProduct(response.data))\r\n\t\t}\r\n\t\tcatch (e: any) {\r\n\t\t\tdispatch(GoodsActionCreator.setError(e.response?.data?.errors))\r\n\t\t}\r\n\t\tfinally {\r\n\t\t\tdispatch(GoodsActionCreator.setIsLoading(false))\r\n\t\t}\r\n\t},\r\n\r\n\tgetNewGoods: (authorId?: number | null, genreId?: number | null, limit?: number, page?: number) => async (dispatch: AppDispatch) => {\r\n\t\ttry {\r\n\t\t\tdispatch(GoodsActionCreator.setIsLoading(true))\r\n\t\t\tconst response = await GoodsService.fetchGoods(authorId, genreId, limit, page)\r\n\t\t\tdispatch(GoodsActionCreator.setNewPoducts(response.data.rows))\r\n\t\t}\r\n\t\tcatch (e: any) {\r\n\t\t\tdispatch(GoodsActionCreator.setError(e.response?.data?.errors))\r\n\t\t}\r\n\t\tfinally {\r\n\t\t\tdispatch(GoodsActionCreator.setIsLoading(false))\r\n\t\t}\r\n\t},\r\n\r\n\tcreateProduct: (product: IProduct, formData: FormData) => async (dispatch: AppDispatch) => {\r\n\t\ttry {\r\n\t\t\tawait GoodsService.createProduct(formData)\r\n\t\t\tdispatch(GoodsActionCreator.addOneProduct(product))\r\n\t\t}\r\n\t\tcatch (e: any) {\r\n\t\t\tdispatch(GoodsActionCreator.setError(e.response?.data?.errors))\r\n\t\t}\r\n\t\tfinally {\r\n\t\t\tdispatch(GoodsActionCreator.setIsLoading(false))\r\n\t\t}\r\n\t},\r\n\r\n\tremoveOneProduct: (id: number) => async (dispatch: AppDispatch) => {\r\n\t\ttry {\r\n\t\t\tawait GoodsService.deleteProduct(id)\r\n\t\t\tdispatch(GoodsActionCreator.deleteOneProduct(id))\r\n\t\t}\r\n\t\tcatch (e: any) {\r\n\t\t\tdispatch(GoodsActionCreator.setError(e.response?.data?.errors))\r\n\t\t}\r\n\t\tfinally {\r\n\t\t\tdispatch(GoodsActionCreator.setIsLoading(false))\r\n\t\t}\r\n\t}\r\n}","import { IUser } from \"./IUser\";\r\n\r\nexport interface IAuth {\r\n\tisAuth: boolean,\r\n\tuser: IUser,\r\n\tisLoading: boolean,\r\n\terror: string\r\n}\r\n\r\nexport enum AuthActionTypes {\r\n\tSET_AUTH = 'SET_AUTH',\r\n\tSET_USER = 'SET_USER',\r\n\tSET_IS_LOADING = 'SET_IS_LOADING',\r\n\tSET_ERROR = 'SET_ERROR'\r\n}\r\n\r\ninterface SetAuthAction {\r\n\ttype: AuthActionTypes.SET_AUTH,\r\n\tpayload: boolean\r\n}\r\n\r\ninterface SetUserAction {\r\n\ttype: AuthActionTypes.SET_USER,\r\n\tpayload: IUser\r\n}\r\n\r\ninterface SetErrorAction {\r\n\ttype: AuthActionTypes.SET_ERROR,\r\n\tpayload: string\r\n}\r\n\r\ninterface SetIsLoadingAction {\r\n\ttype: AuthActionTypes.SET_IS_LOADING,\r\n\tpayload: boolean\r\n}\r\n\r\nexport type AuthActions =\r\n\tSetAuthAction |\r\n\tSetUserAction |\r\n\tSetErrorAction |\r\n\tSetIsLoadingAction","import React, { useState } from 'react'\r\nimport { IGenre } from '../../../types/IGenreAuthor'\r\nimport MyButton from '../MyButton/MyButton'\r\nimport style from './MySelect.module.css'\r\n\r\ninterface ISelectList {\r\n\tlist: IGenre[],\r\n\tfirstName: IGenre[],\r\n\tslectedItem(item: IGenre): void\r\n}\r\n\r\nconst MySelect: React.FC<ISelectList> = ({ list, firstName, slectedItem }) => {\r\n\tconst [itemsList, setItemsList] = useState(false)\r\n\r\n\tconst showList = (e: React.MouseEvent<HTMLSpanElement, MouseEvent>) => {\r\n\t\te.preventDefault()\r\n\t}\r\n\r\n\tconst selectListItem = (item: IGenre) => {\r\n\t\tslectedItem(item)\r\n\t\tsetItemsList(false)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<span className={style.selectButton} onClick={(e) => showList(e)}>\r\n\t\t\t<MyButton\r\n\t\t\t\tonClick={() => setItemsList(true)}\r\n\t\t\t>\r\n\t\t\t\t{\r\n\t\t\t\t\tfirstName[0] !== undefined\r\n\t\t\t\t\t\t? firstName[0].name\r\n\t\t\t\t\t\t: 'Выберите категорию'\r\n\t\t\t\t}\r\n\t\t\t</MyButton>\r\n\t\t\t{\r\n\t\t\t\titemsList\r\n\t\t\t\t\t? <ul className={style.listBlock}>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlist\r\n\t\t\t\t\t\t\t\t? list.map(item => {\r\n\t\t\t\t\t\t\t\t\treturn <li\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => selectListItem(item)}\r\n\t\t\t\t\t\t\t\t\t\tvalue={item.id}\r\n\t\t\t\t\t\t\t\t\t\tkey={item.name}\r\n\t\t\t\t\t\t\t\t\t\tclassName={style.listItem}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t: null\r\n\t\t\t}\r\n\t\t</span>\r\n\t);\r\n};\r\n\r\nexport default MySelect;","import React, { ChangeEvent, useState } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { useTypedSelector } from '../../../hooks/useTypedSelector'\r\nimport { GenreAuthorActionCreator } from '../../../store/action-creators/genreAuthorActionCreator'\r\nimport { GoodsActionCreator } from '../../../store/action-creators/goodsActionCreator'\r\nimport { IAuthor, IGenre } from '../../../types/IGenreAuthor'\r\nimport MyButton from '../../ui/MyButton/MyButton'\r\nimport MyInput from '../../ui/MyInput/MyInput'\r\nimport MySelect from '../../ui/MySelect/MySelect'\r\nimport style from './ModalGoods.module.css'\r\n\r\ninterface ModalProps {\r\n\tvisible: boolean,\r\n\tonHide: React.Dispatch<React.SetStateAction<boolean>>\r\n}\r\n\r\nconst ModalGoods: React.FC<ModalProps> = ({ visible, onHide }) => {\r\n\tconst dispatch = useDispatch()\r\n\tconst { goods } = useTypedSelector(state => state.goods)\r\n\tconst { author, genre, selectedAuthor, selectedGenre } = useTypedSelector(state => state.genreAuthor)\r\n\tconst [name, setName] = useState('')\r\n\tconst [price, setPrice] = useState(0)\r\n\tconst [file, setFile] = useState('')\r\n\tconst [info, setInfo] = useState([\r\n\t\t{ title: 'Издательство', description: '', id: 0 },\r\n\t\t{ title: 'Год выпуска', description: '', id: 1 },\r\n\t\t{ title: 'Количество страниц', description: '', id: 2 },\r\n\t\t{ title: 'Язык', description: '', id: 3 },\r\n\t\t{ title: 'Аннотация', description: '', id: 4 }\r\n\t])\r\n\r\n\tconst dontClose = (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\r\n\t\te.stopPropagation()\r\n\t}\r\n\r\n\tconst selectAuthor = (author: IAuthor) => {\r\n\t\tdispatch(GenreAuthorActionCreator.setSelectedAuthor(author))\r\n\t}\r\n\r\n\tconst selectGenre = (genre: IGenre) => {\r\n\t\tdispatch(GenreAuthorActionCreator.setSelectedGenre(genre))\r\n\t}\r\n\r\n\tconst selectFile = (e: any) => {\r\n\t\tsetFile(e.target.files[0])\r\n\t}\r\n\r\n\tconst changeInfo = (key: string, value: any, id: number) => {\r\n\t\tsetInfo(info.map(i => i.id === id ? { ...i, [key]: value } : i))\r\n\t}\r\n\r\n\tconst addProduct = () => {\r\n\t\tconst newProduct = {\r\n\t\t\tid: goods.length + 1,\r\n\t\t\tname: name,\r\n\t\t\tprice: price,\r\n\t\t\timg: file,\r\n\t\t\tauthorId: selectedAuthor[0].id,\r\n\t\t\tgenreId: selectedGenre[0].id,\r\n\t\t\trating: 0,\r\n\t\t\tinfo: [...info]\r\n\t\t}\r\n\r\n\t\tconst formData = new FormData()\r\n\t\tformData.append('name', name)\r\n\t\tformData.append('price', `${price}`)\r\n\t\tformData.append('img', file)\r\n\t\tformData.append('authorId', `${selectedAuthor[0].id}`)\r\n\t\tformData.append('genreId', `${selectedGenre[0].id}`)\r\n\t\tformData.append('info', JSON.stringify(info))\r\n\t\tdispatch(GoodsActionCreator.createProduct(newProduct, formData))\r\n\t\tdispatch(GenreAuthorActionCreator.setSelectedAuthor([]))\r\n\t\tdispatch(GenreAuthorActionCreator.setSelectedGenre([]))\r\n\t\tonHide(false)\r\n\t}\r\n\r\n\r\n\treturn (\r\n\t\t<div className={visible ? style.open : style.close} onClick={() => onHide(false)}>\r\n\t\t\t<div className={style.modalWrapper} onClick={(e) => dontClose(e)}>\r\n\t\t\t\t<h2>Добавить товар</h2>\r\n\t\t\t\t<form>\r\n\t\t\t\t\t<MySelect\r\n\t\t\t\t\t\tlist={author}\r\n\t\t\t\t\t\tfirstName={selectedAuthor}\r\n\t\t\t\t\t\tslectedItem={selectAuthor}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<MySelect\r\n\t\t\t\t\t\tlist={genre}\r\n\t\t\t\t\t\tfirstName={selectedGenre}\r\n\t\t\t\t\t\tslectedItem={selectGenre}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t< MyInput\r\n\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\tonChange={e => setName(e.target.value)}\r\n\t\t\t\t\t\tplaceholder='Введите название'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<MyInput\r\n\t\t\t\t\t\tonChange={e => setPrice(Number(e.target.value))}\r\n\t\t\t\t\t\tvalue={price}\r\n\t\t\t\t\t\tplaceholder='Введите стоимость'\r\n\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<MyInput\r\n\t\t\t\t\t\ttype='file'\r\n\t\t\t\t\t\tonChange={selectFile}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<h3>Описание</h3>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tinfo.map(i => {\r\n\t\t\t\t\t\t\treturn <MyInput\r\n\t\t\t\t\t\t\t\tkey={i.id}\r\n\t\t\t\t\t\t\t\tplaceholder={i.title}\r\n\t\t\t\t\t\t\t\tvalue={i.description}\r\n\t\t\t\t\t\t\t\tonChange={(e: ChangeEvent<HTMLInputElement>) => changeInfo('description', `${e.target.value}`, i.id)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t</form>\r\n\t\t\t\t<MyButton onClick={() => onHide(false)}>Закрыть</MyButton>\r\n\t\t\t\t<MyButton onClick={() => addProduct()}>Добавить</MyButton>\r\n\t\t\t</div>\r\n\t\t</div >\r\n\t);\r\n};\r\n\r\nexport default ModalGoods;","import React, { useEffect, useState } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { useTypedSelector } from '../../hooks/useTypedSelector'\r\nimport { GoodsActionCreator } from '../../store/action-creators/goodsActionCreator'\r\nimport ModalGoods from '../Modals/ModalGoods/ModalGoods'\r\nimport MyButton from '../ui/MyButton/MyButton'\r\nimport style from './AdminGoods.module.css'\r\n\r\nconst AdminGoods: React.FC = () => {\r\n\tconst { goods, totalCount } = useTypedSelector(state => state.goods)\r\n\tconst dispatch = useDispatch()\r\n\r\n\tconst [visible, setVisible] = useState(false)\r\n\r\n\tconst removeProduct = (id: number) => {\r\n\t\tdispatch(GoodsActionCreator.removeOneProduct(id))\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(GoodsActionCreator.getAllGoods(null, null, totalCount))\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<MyButton onClick={() => setVisible(true)}>Добавить товар</MyButton>\r\n\t\t\t<table className={style.goodsTable}>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>id</th>\r\n\t\t\t\t\t\t<th>Изображение</th>\r\n\t\t\t\t\t\t<th>Название товара</th>\r\n\t\t\t\t\t\t<th>Цена</th>\r\n\t\t\t\t\t\t<th>Рейтинг</th>\r\n\t\t\t\t\t\t<th>Действия</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tgoods.length > 0\r\n\t\t\t\t\t\t\t? goods.map((product) => (\r\n\t\t\t\t\t\t\t\t<tr key={product.name}>\r\n\t\t\t\t\t\t\t\t\t<td>{product.id}</td>\r\n\t\t\t\t\t\t\t\t\t<td><img src={`http://localhost:5000/${product.img}`} alt='product' width='20px' height='25px' /></td>\r\n\t\t\t\t\t\t\t\t\t<td>{product.name}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{product.price} &#8381;</td>\r\n\t\t\t\t\t\t\t\t\t<td>{product.rating}</td>\r\n\t\t\t\t\t\t\t\t\t<td><MyButton onClick={() => removeProduct(product.id)}>X</MyButton></td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t}\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t\t<ModalGoods\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tonHide={() => setVisible(false)}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default AdminGoods;","import React, { useState } from 'react'\r\nimport AdminCategories from '../../components/AdminCategories/AdminCategories'\r\nimport AdminGoods from '../../components/AdminGoods/AdminGoods'\r\nimport style from './Admin.module.css'\r\n\r\nconst Admin: React.FC = () => {\r\n\tconst [selectedScreenName, setSelectedScreenName] = useState('Товары')\r\n\tconst chapters = ['Товары', 'Категории']\r\n\r\n\tconst ClickOnChapter = (chapter: string) => {\r\n\t\tsetSelectedScreenName(chapter)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={style.adminPage}>\r\n\t\t\t<div className={style.selectPanel}>\r\n\t\t\t\t{\r\n\t\t\t\t\tchapters.map(chapter => {\r\n\t\t\t\t\t\treturn <div\r\n\t\t\t\t\t\t\tkey={chapter}\r\n\t\t\t\t\t\t\tclassName={selectedScreenName === chapter ? style.selected : style.screen}\r\n\t\t\t\t\t\t\tonClick={() => ClickOnChapter(chapter)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{chapter}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t\t{\r\n\t\t\t\tselectedScreenName === 'Товары'\r\n\t\t\t\t\t? <AdminGoods />\r\n\r\n\t\t\t\t\t: <AdminCategories />\r\n\t\t\t}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Admin;","import { AxiosResponse } from 'axios'\r\nimport apiInstance from '../http/index'\r\nimport { AuthResponse } from '../types/authResponse'\r\n\r\nexport default class AuthService {\r\n\tstatic async login(email: string, password: string): Promise<AxiosResponse<AuthResponse>> {\r\n\t\treturn await apiInstance.post<AuthResponse>('user/login', { email, password })\r\n\t}\r\n\r\n\tstatic async registration(email: string, password: string): Promise<AxiosResponse<AuthResponse>> {\r\n\t\treturn await apiInstance.post<AuthResponse>('user/registration', { email, password })\r\n\t}\r\n\r\n\tstatic async logout(email: string): Promise<void> {\r\n\t\treturn await apiInstance.post('user/logout', { email })\r\n\t}\r\n}","import axios from 'axios'\r\nimport { API_URL } from '../../http'\r\nimport AuthService from '../../service/AuthService'\r\nimport { AuthActions, AuthActionTypes } from '../../types/auth'\r\nimport { AuthResponse } from '../../types/authResponse'\r\nimport { AppDispatch } from '../store'\r\nimport { IUser } from '../../types/IUser'\r\n\r\n\r\nexport const AuthActionCreator = {\r\n\tsetUser: (user: IUser): AuthActions => ({ type: AuthActionTypes.SET_USER, payload: user }),\r\n\tsetIsAuth: (auth: boolean): AuthActions => ({ type: AuthActionTypes.SET_AUTH, payload: auth }),\r\n\tsetError: (error: string): AuthActions => ({ type: AuthActionTypes.SET_ERROR, payload: error }),\r\n\tsetIsLoading: (loading: boolean): AuthActions => ({ type: AuthActionTypes.SET_IS_LOADING, payload: loading }),\r\n\r\n\tlogin: (email: string, password: string) => async (dispatch: AppDispatch) => {\r\n\t\ttry {\r\n\t\t\tdispatch(AuthActionCreator.setIsLoading(true))\r\n\t\t\tconst response = await AuthService.login(email, password)\r\n\t\t\tlocalStorage.setItem('token', response.data.accessToken)\r\n\t\t\tdispatch(AuthActionCreator.setIsAuth(true))\r\n\t\t\tdispatch(AuthActionCreator.setUser(response.data.user))\r\n\r\n\t\t} catch (e: any) {\r\n\t\t\tdispatch(AuthActionCreator.setError(e.response?.data?.errors))\r\n\t\t}\r\n\t\tfinally {\r\n\t\t\tdispatch(AuthActionCreator.setIsLoading(false))\r\n\t\t}\r\n\t},\r\n\r\n\tregistration: (email: string, password: string) => async (dispatch: AppDispatch) => {\r\n\t\ttry {\r\n\t\t\tdispatch(AuthActionCreator.setIsLoading(true))\r\n\t\t\tconst response = await AuthService.registration(email, password)\r\n\t\t\tlocalStorage.setItem('token', response.data.accessToken)\r\n\t\t\tdispatch(AuthActionCreator.setIsAuth(true))\r\n\t\t\tdispatch(AuthActionCreator.setUser(response.data.user))\r\n\r\n\t\t} catch (e: any) {\r\n\t\t\tdispatch(AuthActionCreator.setError(e.response?.data?.errors))\r\n\t\t}\r\n\t\tfinally {\r\n\t\t\tdispatch(AuthActionCreator.setIsLoading(false))\r\n\t\t}\r\n\t},\r\n\r\n\tlogout: (email: string) => async (dispatch: AppDispatch) => {\r\n\t\ttry {\r\n\t\t\tdispatch(AuthActionCreator.setIsLoading(true))\r\n\t\t\tawait AuthService.logout(email)\r\n\t\t\tlocalStorage.removeItem('token')\r\n\t\t\tdispatch(AuthActionCreator.setIsAuth(false))\r\n\t\t\tdispatch(AuthActionCreator.setUser({} as IUser))\r\n\r\n\t\t} catch (e: any) {\r\n\t\t\tdispatch(AuthActionCreator.setError(e.response?.data?.errors))\r\n\t\t}\r\n\t\tfinally {\r\n\t\t\tdispatch(AuthActionCreator.setIsLoading(false))\r\n\t\t}\r\n\t},\r\n\r\n\tcheckAuth: () => async (dispatch: AppDispatch) => {\r\n\t\ttry {\r\n\t\t\tconst response = await axios.get<AuthResponse>(`${API_URL}user/refresh`, { withCredentials: true })\r\n\t\t\tlocalStorage.setItem('token', response.data.accessToken)\r\n\t\t\tdispatch(AuthActionCreator.setIsAuth(true))\r\n\t\t\tdispatch(AuthActionCreator.setUser(response.data.user))\r\n\t\t}\r\n\t\tcatch (e: any) {\r\n\t\t\tdispatch(AuthActionCreator.setError(e.response?.data?.errors))\r\n\t\t}\r\n\t\tfinally {\r\n\t\t\tdispatch(AuthActionCreator.setIsLoading(false))\r\n\t\t}\r\n\t}\r\n}","import { ICart } from './ICart'\r\n\r\nexport interface ICartList {\r\n\tcart: ICart[],\r\n\tisCartLoading: boolean,\r\n\tcartError: string,\r\n\tcountGoods: number,\r\n\tallCartPrice: number\r\n}\r\n\r\nexport enum CartActionTypes {\r\n\tSET_CART = 'SET_CART',\r\n\tSET_CART_IS_LOADING = 'SET_CART_IS_LOADING',\r\n\tSET_CART_ERROR = 'SET_CART_ERROR',\r\n\tSET_COUNT_GOODS = 'SET_COUNT_GOODS',\r\n\tSET_ALL_CART_PRICE = 'SET_ALL_CART_PRICE'\r\n}\r\n\r\ninterface SetCartAction {\r\n\ttype: CartActionTypes.SET_CART,\r\n\tpayload: ICart[]\r\n}\r\n\r\ninterface SetCartIsLoadingAction {\r\n\ttype: CartActionTypes.SET_CART_IS_LOADING,\r\n\tpayload: boolean\r\n}\r\n\r\ninterface SetCartErrorAction {\r\n\ttype: CartActionTypes.SET_CART_ERROR,\r\n\tpayload: string\r\n}\r\n\r\ninterface SetCountGoodsActoin {\r\n\ttype: CartActionTypes.SET_COUNT_GOODS,\r\n\tpayload: number\r\n}\r\n\r\ninterface SetAllCartPriceAction {\r\n\ttype: CartActionTypes.SET_ALL_CART_PRICE,\r\n\tpayload: number\r\n}\r\n\r\nexport type CartActions =\r\n\tSetCartAction |\r\n\tSetCartIsLoadingAction |\r\n\tSetCartErrorAction |\r\n\tSetCountGoodsActoin |\r\n\tSetAllCartPriceAction","export const ADMIN_ROUTE = '/admin'\r\nexport const SHOP_ROUTE = '/shop'\r\nexport const LOGIN_ROUTE = '/login'\r\nexport const REGISTRATION_ROUTE = '/registration'\r\nexport const CART_ROUTE = '/cart'\r\nexport const PRODUCT_ROUTE = '/product'","import React, { useEffect, useState } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { NavLink, useLocation, useHistory } from 'react-router-dom'\r\nimport MyButton from '../../components/ui/MyButton/MyButton'\r\nimport MyInput from '../../components/ui/MyInput/MyInput'\r\nimport { useTypedSelector } from '../../hooks/useTypedSelector'\r\nimport { AuthActionCreator } from '../../store/action-creators/authActionCreator'\r\nimport { LOGIN_ROUTE, REGISTRATION_ROUTE, SHOP_ROUTE } from '../../utils/consts'\r\nimport style from './Auth.module.css'\r\n\r\nconst Auth: React.FC = () => {\r\n\tconst { error, isAuth, user } = useTypedSelector(state => state.auth)\r\n\tconst location = useLocation()\r\n\tconst isLogin = location.pathname === LOGIN_ROUTE\r\n\tconst history = useHistory()\r\n\r\n\tconst [email, setEmail] = useState('')\r\n\tconst [password, setPassword] = useState('')\r\n\tconst dispatch = useDispatch()\r\n\r\n\tuseEffect(() => {\r\n\t\tif (isAuth && user.isActivated === true) {\r\n\t\t\thistory.push(SHOP_ROUTE)\r\n\t\t}\r\n\t}, [isAuth, user])\r\n\r\n\tconst submit = (e: React.FormEvent<HTMLButtonElement>) => {\r\n\t\te.preventDefault()\r\n\t\tif (isLogin) {\r\n\t\t\tdispatch(AuthActionCreator.login(email, password))\r\n\t\t\tsetEmail('')\r\n\t\t\tsetPassword('')\r\n\t\t\tif (isAuth) {\r\n\t\t\t\thistory.push(SHOP_ROUTE)\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tdispatch(AuthActionCreator.registration(email, password))\r\n\t\t\tsetEmail('')\r\n\t\t\tsetPassword('')\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{\r\n\t\t\t\t!isAuth && !user.isActivated\r\n\t\t\t\t\t? <div className={style.authForm}>\r\n\t\t\t\t\t\t<div className={style.formTable}>\r\n\t\t\t\t\t\t\t<h2>{isLogin ? 'Авторизация' : 'Регистрация'}</h2>\r\n\t\t\t\t\t\t\t<form >\r\n\t\t\t\t\t\t\t\t<p className={style.error}>{error}</p>\r\n\t\t\t\t\t\t\t\t<MyInput\r\n\t\t\t\t\t\t\t\t\tonChange={e => setEmail(e.target.value)}\r\n\t\t\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\t\t\tplaceholder='Введите email...'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<MyInput\r\n\t\t\t\t\t\t\t\t\tonChange={e => setPassword(e.target.value)}\r\n\t\t\t\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\t\tplaceholder='Введите пароль'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<div className={style.registLink}>\r\n\t\t\t\t\t\t\t\t\t{isLogin\r\n\t\t\t\t\t\t\t\t\t\t? <div>\r\n\t\t\t\t\t\t\t\t\t\t\t<p>Нет аккаунта? <NavLink className={style.link} to={REGISTRATION_ROUTE}>Зарегестрируйтесь!</NavLink></p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t: <div>\r\n\t\t\t\t\t\t\t\t\t\t\t<p>Есть аккаунт? <NavLink className={style.link} to={LOGIN_ROUTE}>Войдите!</NavLink></p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t<MyButton onClick={submit}>\r\n\t\t\t\t\t\t\t\t\t\t{isLogin\r\n\t\t\t\t\t\t\t\t\t\t\t? 'Войти'\r\n\t\t\t\t\t\t\t\t\t\t\t: 'Регистрация'\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</MyButton>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t: <div className={style.notActive}>\r\n\t\t\t\t\t\t<h2>Перейдите в указанную почту и активируйте аккаунт</h2>\r\n\t\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Auth;","export default __webpack_public_path__ + \"static/media/EmptyCart.e70dcf4e.png\";","import { ICart } from './../types/ICart'\r\nimport { AxiosResponse } from 'axios'\r\nimport apiInstance from '../http'\r\n\r\n\r\nexport default class CartService {\r\n\tstatic async fetchCart(): Promise<AxiosResponse<ICart[]>> {\r\n\t\treturn await apiInstance.get<ICart[]>('cart')\r\n\t}\r\n\r\n\tstatic async putProductInCart(id: number): Promise<AxiosResponse<string>> {\r\n\t\treturn await apiInstance.post<string>('cart', { id: `${id}` })\r\n\t}\r\n\r\n\tstatic async deleteFromCart(id: number): Promise<AxiosResponse<string>> {\r\n\t\treturn await apiInstance.delete<string>(`cart/${id}`)\r\n\t}\r\n}","import { AppDispatch } from './../store'\r\nimport { CartActions, CartActionTypes } from '../../types/cart'\r\nimport CartService from '../../service/CartService'\r\nimport { ICart } from '../../types/ICart'\r\n\r\n\r\nexport const CartActionCreator = {\r\n\tsetCart: (cart: ICart[]): CartActions => ({ type: CartActionTypes.SET_CART, payload: cart }),\r\n\tsetCartIsLoading: (loading: boolean): CartActions => ({ type: CartActionTypes.SET_CART_IS_LOADING, payload: loading }),\r\n\tsetError: (error: string): CartActions => ({ type: CartActionTypes.SET_CART_ERROR, payload: error }),\r\n\tsetCountGoods: (countGoods: number): CartActions => ({ type: CartActionTypes.SET_COUNT_GOODS, payload: countGoods }),\r\n\tsetAllCartPrice: (allCartPrice: number): CartActions => ({ type: CartActionTypes.SET_ALL_CART_PRICE, payload: allCartPrice }),\r\n\r\n\tgetProductListFromCart: () => async (dispatch: AppDispatch) => {\r\n\t\ttry {\r\n\t\t\tdispatch(CartActionCreator.setCartIsLoading(true))\r\n\t\t\tconst response = await CartService.fetchCart()\r\n\t\t\tdispatch(CartActionCreator.setCart(response.data))\r\n\t\t\tdispatch(CartActionCreator.setCountGoods(response.data.length))\r\n\t\t}\r\n\t\tcatch (e: any) {\r\n\t\t\tdispatch(CartActionCreator.setError(e.response?.data?.errors))\r\n\t\t}\r\n\t\tfinally {\r\n\t\t\tdispatch(CartActionCreator.setCartIsLoading(false))\r\n\t\t}\r\n\t},\r\n\r\n\tputProductInMyCart: (id: number) => async (dispatch: AppDispatch) => {\r\n\t\ttry {\r\n\t\t\tdispatch(CartActionCreator.setCartIsLoading(true))\r\n\t\t\tawait CartService.putProductInCart(id)\r\n\t\t}\r\n\t\tcatch (e: any) {\r\n\t\t\tdispatch(CartActionCreator.setError(e.response?.data?.errors))\r\n\t\t}\r\n\t\tfinally {\r\n\t\t\tdispatch(CartActionCreator.setCartIsLoading(false))\r\n\t\t}\r\n\t},\r\n\r\n\tdeleteProductFromCart: (id: number) => async (dispatch: AppDispatch) => {\r\n\t\ttry {\r\n\t\t\tdispatch(CartActionCreator.setCartIsLoading(true))\r\n\t\t\tawait CartService.deleteFromCart(id)\r\n\t\t}\r\n\t\tcatch (e: any) {\r\n\t\t\tdispatch(CartActionCreator.setError(e.response?.data?.errors))\r\n\t\t}\r\n\t\tfinally {\r\n\t\t\tdispatch(CartActionCreator.setCartIsLoading(false))\r\n\t\t}\r\n\t}\r\n}","import React, { useState } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { useTypedSelector } from '../../hooks/useTypedSelector'\r\nimport { CartActionCreator } from '../../store/action-creators/cartActionCreator'\r\nimport MyButton from '../ui/MyButton/MyButton'\r\nimport style from './ProductInCart.module.css'\r\n\r\ninterface IproductInCartProps {\r\n\tid: number,\r\n\timg: string,\r\n\tname: string,\r\n\tprice: number\r\n}\r\n\r\nconst ProductInCart: React.FC<IproductInCartProps> = ({ id, img, name, price }) => {\r\n\tconst cart = useTypedSelector(state => state.cart.cart)\r\n\tlet countGoods = useTypedSelector(state => state.cart.countGoods)\r\n\tlet allCartPrice = useTypedSelector(state => state.cart.allCartPrice)\r\n\tconst dispatch = useDispatch()\r\n\tconst [counter, setCounter] = useState<number>(1)\r\n\r\n\tconst deleteProduct = (id: number) => {\r\n\t\tdispatch(CartActionCreator.deleteProductFromCart(id))\r\n\t\tconst newCart = cart.filter(item => {\r\n\t\t\treturn item.id !== id\r\n\t\t})\r\n\t\tdispatch(CartActionCreator.setCart(newCart))\r\n\t\tdispatch(CartActionCreator.setCountGoods(countGoods -= 1))\r\n\t}\r\n\r\n\tconst decrement = (counter: number, id: number) => {\r\n\t\tif (counter <= 1) {\r\n\t\t\tdeleteProduct(id)\r\n\t\t}\r\n\t\tsetCounter(counter -= 1)\r\n\t\tdispatch(CartActionCreator.setAllCartPrice(allCartPrice -= price))\r\n\t}\r\n\r\n\tconst increament = (counter: number) => {\r\n\t\tsetCounter(counter += 1)\r\n\t\tdispatch(CartActionCreator.setAllCartPrice(allCartPrice += price))\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={style.productItem}>\r\n\t\t\t<div className={style.grupItem}>\r\n\t\t\t\t<img className={style.productImg} src={`http://localhost:5000/${img}`} alt='product picture' width='20px' height='40px' />\r\n\t\t\t\t<span>{name}</span>\r\n\t\t\t</div>\r\n\t\t\t<div className={style.counterBlock}>\r\n\t\t\t\t<MyButton onClick={() => decrement(counter, id)}>-</MyButton>\r\n\t\t\t\t<span className={style.counter}>{counter}</span>\r\n\t\t\t\t<MyButton onClick={() => increament(counter)}>+</MyButton>\r\n\t\t\t</div>\r\n\t\t\t<div className={style.productPrice}>\r\n\t\t\t\t<span>{(price * counter)} &#8381;</span>\r\n\t\t\t\t<MyButton onClick={() => deleteProduct(id)}>X</MyButton>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ProductInCart;","import React, { useEffect } from 'react'\r\nimport { useHistory } from 'react-router'\r\nimport MyButton from '../../components/ui/MyButton/MyButton'\r\nimport { SHOP_ROUTE } from '../../utils/consts'\r\nimport style from './Cart.module.css'\r\nimport emptyCart from '../../images/EmptyCart.png'\r\nimport { useTypedSelector } from '../../hooks/useTypedSelector'\r\nimport { useDispatch } from 'react-redux'\r\nimport { CartActionCreator } from '../../store/action-creators/cartActionCreator'\r\nimport ProductInCart from '../../components/ProductInCart/ProductInCart'\r\n\r\nconst Cart: React.FC = () => {\r\n\tconst history = useHistory()\r\n\tconst dispatch = useDispatch()\r\n\tconst cart = useTypedSelector(state => state.cart.cart)\r\n\tlet allCartPrice = useTypedSelector(state => state.cart.allCartPrice)\r\n\r\n\tuseEffect(() => {\r\n\t\tconst allPrice = cart.reduce((sum, item) => {\r\n\t\t\treturn sum + item.price\r\n\t\t}, 0)\r\n\t\tdispatch(CartActionCreator.setAllCartPrice(allPrice))\r\n\t}, [cart])\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(CartActionCreator.getProductListFromCart())\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<div className={style.cart}>\r\n\t\t\t{\r\n\t\t\t\tcart.length > 0\r\n\t\t\t\t\t? <div>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tcart.map(product => {\r\n\t\t\t\t\t\t\t\treturn <ProductInCart\r\n\t\t\t\t\t\t\t\t\tkey={product.id}\r\n\t\t\t\t\t\t\t\t\tid={product.id}\r\n\t\t\t\t\t\t\t\t\timg={product.img}\r\n\t\t\t\t\t\t\t\t\tname={product.name}\r\n\t\t\t\t\t\t\t\t\tprice={product.price}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t<div className={style.line}></div>\r\n\t\t\t\t\t\t<div className={style.totalPrice}>\r\n\t\t\t\t\t\t\t<span>Итоговая цена:</span>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<span>{allCartPrice} &#8381;</span>\r\n\t\t\t\t\t\t\t\t<MyButton>Заказать</MyButton>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t: <div className={style.emptyCart}>\r\n\t\t\t\t\t\t<img src={emptyCart} alt='cart is empty' width='300px' height='300px' />\r\n\t\t\t\t\t\t<span className={style.emptyCartText}>\r\n\t\t\t\t\t\t\tВаша корзина пуста. Если Вам что-то понравилось, пожалуйста, вернитесь в магазин и поместите выбранный товар в корзину.\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<MyButton onClick={() => history.push(SHOP_ROUTE)}>Вернуться назад</MyButton>\r\n\t\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Cart;","import React from 'react'\r\nimport { Rating } from 'react-simple-star-rating'\r\nimport { useTypedSelector } from '../../hooks/useTypedSelector'\r\n\r\nconst StarRating: React.FC = () => {\r\n\tconst rating = useTypedSelector(state => state.goods.product.rating)\r\n\r\n\tconst handleRating = () => {\r\n\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Rating onClick={handleRating} ratingValue={rating} />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default StarRating;","export default __webpack_public_path__ + \"static/media/loading.b8eaef34.gif\";","import React, { useEffect, useState } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { useLocation } from 'react-router'\r\nimport StarRating from '../../components/StarRating/StarRating'\r\nimport MyButton from '../../components/ui/MyButton/MyButton'\r\nimport { useTypedSelector } from '../../hooks/useTypedSelector'\r\nimport { CartActionCreator } from '../../store/action-creators/cartActionCreator'\r\nimport { GoodsActionCreator } from '../../store/action-creators/goodsActionCreator'\r\nimport loading from '../../images/loading.gif'\r\nimport style from './ProductPage.module.css'\r\n\r\nconst ProductPage: React.FC = () => {\r\n\tconst location = useLocation()\r\n\tconst dispatch = useDispatch()\r\n\tconst [isInCart, setIsInCart] = useState(false)\r\n\tconst { product, isLoading } = useTypedSelector(state => state.goods)\r\n\tlet { countGoods } = useTypedSelector(state => state.cart)\r\n\tconst cart = useTypedSelector(state => state.cart.cart)\r\n\tconst id = Number(location.pathname.split('/')[2])\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(GoodsActionCreator.getOneProduct(id))\r\n\t\tconst item = cart.find(item => {\r\n\t\t\treturn item.id == id\r\n\t\t})\r\n\t\tif (item) {\r\n\t\t\tsetIsInCart(true)\r\n\t\t}\r\n\t}, [])\r\n\r\n\tconst inCart = (id: number) => {\r\n\t\tdispatch(CartActionCreator.putProductInMyCart(id))\r\n\t\tdispatch(CartActionCreator.setCountGoods(countGoods += 1))\r\n\t\tsetIsInCart(true)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{\r\n\t\t\t\tisLoading\r\n\t\t\t\t\t? <div className={style.loading}>\r\n\t\t\t\t\t\t<img src={loading} alt='Loading...' height='100px' width='100px' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t: <div className={style.product}>\r\n\t\t\t\t\t\t<div className={style.description}>\r\n\t\t\t\t\t\t\t<img src={`http://localhost:5000/${product.img}`} alt='product photo' width='300px' height='390px' />\r\n\t\t\t\t\t\t\t<div className={style.properties}>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<h2>{product.name}</h2>\r\n\t\t\t\t\t\t\t\t\t<span className={style.price}>Цена: {product.price} &#8381;</span>\r\n\t\t\t\t\t\t\t\t\t<div className={style.ratingBlock}>\r\n\t\t\t\t\t\t\t\t\t\t<span className={style.ratingValue}>{product.rating}</span>\r\n\t\t\t\t\t\t\t\t\t\t<StarRating />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tproduct.info\r\n\t\t\t\t\t\t\t\t\t\t\t? <div className={style.proprtiesList}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className={style.propertiesHeader}>Издательство: </span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className={style.propertiesValue}>{product.info[0].description}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className={style.propertiesHeader}>Год выпуска: </span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className={style.propertiesValue}>{product.info[1].description} г.</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className={style.propertiesHeader}>Количество страниц: </span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className={style.propertiesValue}>{product.info[2].description} стр.</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className={style.propertiesHeader}>Язык издания: </span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className={style.propertiesValue}>{product.info[3].description}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tisInCart\r\n\t\t\t\t\t\t\t\t\t\t? <MyButton disabled > &#10004; В корзине</MyButton>\r\n\t\t\t\t\t\t\t\t\t\t: <MyButton onClick={() => inCart(id)}>Добавить в корзину</MyButton>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className={style.productDiscription}>\r\n\t\t\t\t\t\t\t<h2>Аннотация книги \"{product.name}\"</h2>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tproduct.info\r\n\t\t\t\t\t\t\t\t\t? <p className={style.productDiscriptionText}>{product.info[4].description}</p>\r\n\t\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ProductPage;","import React, { useEffect } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { useTypedSelector } from '../../hooks/useTypedSelector'\r\nimport { GenreAuthorActionCreator } from '../../store/action-creators/genreAuthorActionCreator'\r\nimport { GoodsActionCreator } from '../../store/action-creators/goodsActionCreator'\r\nimport { IGenre } from '../../types/IGenreAuthor'\r\nimport style from './GenreBar.module.css'\r\n\r\nconst GenreBar: React.FC = () => {\r\n\tconst dispatch = useDispatch()\r\n\tconst genres = useTypedSelector(state => state.genreAuthor.genre)\r\n\tconst selectedGenre = useTypedSelector(state => state.genreAuthor.selectedGenre)\r\n\tconst page = useTypedSelector(state => state.goods.page)\r\n\tconst limit = useTypedSelector(state => state.goods.limit)\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(GenreAuthorActionCreator.loadingGenre())\r\n\t\tdispatch(GenreAuthorActionCreator.loadingAuthor())\r\n\t}, [])\r\n\r\n\tconst selectGenre = (genre: IGenre) => {\r\n\t\tdispatch(GenreAuthorActionCreator.setSelectedGenre(genre))\r\n\t\tdispatch(GoodsActionCreator.setPage(1))\r\n\t}\r\n\r\n\tconst selectAllGenre = () => {\r\n\t\tdispatch(GenreAuthorActionCreator.setSelectedGenre(selectedGenre[1]))\r\n\t\tdispatch(GoodsActionCreator.getAllGoods(null, null, limit, page))\r\n\t\tdispatch(GoodsActionCreator.setPage(1))\r\n\t}\r\n\r\n\treturn (\r\n\t\t<nav>\r\n\t\t\t<h2>Категории:</h2>\r\n\t\t\t<ul className={style.listGenre}>\r\n\t\t\t\t<li\r\n\t\t\t\t\tonClick={() => selectAllGenre()}\r\n\t\t\t\t\tclassName={!selectedGenre[0] ? style.selected : style.listItem}\r\n\t\t\t\t>\r\n\t\t\t\t\tВсе жанры\r\n\t\t\t\t</li>\r\n\t\t\t\t{\r\n\t\t\t\t\tgenres.map(genre => {\r\n\t\t\t\t\t\treturn <li\r\n\t\t\t\t\t\t\tonClick={() => selectGenre(genre)}\r\n\t\t\t\t\t\t\tkey={genre.id}\r\n\t\t\t\t\t\t\tclassName={selectedGenre[0]?.id === genre.id ? style.selected : style.listItem}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{genre.name}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t</ul>\r\n\t\t</nav>\r\n\t);\r\n};\r\n\r\nexport default GenreBar;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAAEoElEQVRoge2Z3W8UZRTGf2eWtlBEgtJu+dIQGhED8iEsCbAbqiYSolxqIglcGk0oiNyZGLjwjiuIfwAYb42JIaBeEGMw8YOYFjEkRAhSoFAt0m7blLLv48XutjPb2e7OMqOJ6bnYd949857nOXOeOfPOLszarM1aYqbLHRn92rElSQxLKrB60u2k7DoABa209XfvJYHjJRG0GNneA1oRraXjRCyRCuhqZwvj+RtI6eIXDJBveta29Y3FjZVMBcZH9vnIA7Qxf2JvElCxJyBhyB1ClMgLJEBHpPgrHn8FLnXsQrwAFImXE5FW09v2WtxwCUhIh4uDStPShwDH+3GjxVpS9aTXgnon4/rJQykpb4NtutcTF2a8FZA+AKwkGaaTB1Q4GCdkbBVQT7oddAMxN0AcKuU0jmylbf7zThy48VVA7sA08lLYvdACvBsXbCwV0PfL59E6/geweLpkJj/8iQ3S3PSMrb878rjYkROQMH5rS1PQMpRaClqO2I6013/SFOFqcrLPwF0A+nDuNl7zLbYM3DULnB09AV1qX0UqtQyxAqclYMtRYRnYUmAFUgfQFEpQPuwIPk35JhD9wE2k20K3PNSHszuYu4lL9Vn2wbWqCejy0mPIfRQA8Q01ZNGQT6o4N7RzTflMOmrZ/LHyN3P8CSB3DRDCgqX3B62YhxGs06fo6wTedT/lQBeytf2nkO0HTQQ7SRXy4V2mpk9SdfLV1xVMvGPZodMBzoSYetOvAp8jLQgE8g3/lmRKMUZN3puWGzpTybVqF9IvHVvw3BlE238oGYBBE3ssN3whjOeMbVSX2ldR0DlEZwAkDKi+LhNpHeKGFdhlXcNXqnGs+RzQj20dNHEWaUMAxDfUL5mZ1k1L7LIVCrusa6xvJn41txKWGeinmSzYN4ErVI28zxcqmarrAuS/tfGm7bXIQ4Qnsa52tjD09ymktwIEKgn6iYf46pDhFzYn/7Zto67350hbCQnj4uLjyB0OEPAPjUsGGZ94O/LdZrh6OTW0mdNPi04gOxBTlymSh5OpXL47Kpc5tU8JMZGPUTJlG26ESmMJYFvL4I8jGb/P0NZGmER+oZHwkDYXjxvuMmG+jI5G5xP9jeyHp56X9GQDe5kpn0J9C+h6YnXyCchlJslVfXGvQr7sK88rfU6ZqHQiJ+A8ZWKRTHnuO3blixPBIt/E5iwTucvUcRODMEeyFdB55oLWhUtmmpwGDbrN0Q0MVq8IU9UyXixiJJQALQs2IZqnk/DJSTiJTy3FGsvlT9rO/EnzUp2CE4hHNeTUTGHexuQSIJWZscug84bbmMoN77Pt+cl/ZCz74H5q58hBw1sHnA2XWmnuot0HkRJwlR1oUhZ203D7vWz+ZcuN9FZbb13DV7yu0d0m9iB+nyLPZDJOllwCBpmKqzciZ8fs0dBzlh05PeNif5xXRr+0hWNrTO4QMOSXk1m0Vlr/dvq7hYtk+gtkCCc45anwoeVGH+s3Tp1rXeJSjz422X7AQ8gmxp+217lfz/r6E/gqPV+toxeBfjPviO148HOjpEPjf920WfKOg9L28OFL9gajccaftVn7v9o/fzB7l3fCLDkAAAAASUVORK5CYII=\"","import React from 'react'\r\nimport { useHistory } from 'react-router'\r\nimport { PRODUCT_ROUTE } from '../../utils/consts'\r\nimport style from './ProductCart.module.css'\r\nimport star from '../../images/star.png'\r\nimport loading from '../../images/loading.gif'\r\n\r\ninterface ProductProps {\r\n\tid: number\r\n\tname: string,\r\n\tprice: number,\r\n\trating: number,\r\n\timg: string,\r\n\tisLoading: boolean\r\n}\r\n\r\nconst ProductCart: React.FC<ProductProps> = ({ id, name, price, rating, img, isLoading }) => {\r\n\tconst history = useHistory()\r\n\r\n\treturn (\r\n\t\t<div className={style.productCart}>\r\n\t\t\t{\r\n\t\t\t\tisLoading\r\n\t\t\t\t\t? <div className={style.loading}>\r\n\t\t\t\t\t\t<img src={loading} alt='Loading...' height='50px' width='50px' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t: <div>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tsrc={`http://localhost:5000/${img}`}\r\n\t\t\t\t\t\t\talt='book cover'\r\n\t\t\t\t\t\t\theight='300px'\r\n\t\t\t\t\t\t\twidth='200px'\r\n\t\t\t\t\t\t\tonClick={() => history.push(PRODUCT_ROUTE + `/${id}`)}\r\n\t\t\t\t\t\t\tclassName={style.productImg}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div className={style.productInfo}>\r\n\t\t\t\t\t\t\t<div className={style.price} onClick={() => history.push(PRODUCT_ROUTE + `/${id}`)} >{price} &#8381;</div>\r\n\t\t\t\t\t\t\t<div onClick={() => history.push(PRODUCT_ROUTE + `/${id}`)} className={style.productName}>{name}</div>\r\n\t\t\t\t\t\t\t<div className={style.rating}>\r\n\t\t\t\t\t\t\t\t<img src={star} alt='star' height='18px' width='18px' />\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\trating\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ProductCart;","import React, { useEffect } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { useTypedSelector } from '../../hooks/useTypedSelector'\r\nimport { GoodsActionCreator } from '../../store/action-creators/goodsActionCreator'\r\nimport ProductCart from '../ProductCart/ProductCart'\r\nimport style from './Goods.module.css'\r\n\r\nconst Goods: React.FC = () => {\r\n\tconst { goods, isLoading } = useTypedSelector(state => state.goods)\r\n\tconst selectedGenre = useTypedSelector(state => state.genreAuthor.selectedGenre)\r\n\tconst selectedAuthor = useTypedSelector(state => state.genreAuthor.selectedAuthor)\r\n\tconst page = useTypedSelector(state => state.goods.page)\r\n\tconst limit = useTypedSelector(state => state.goods.limit)\r\n\r\n\r\n\tconst dispatch = useDispatch()\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(GoodsActionCreator.getAllGoods(null, null, limit, page))\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(GoodsActionCreator.getAllGoods(selectedAuthor[0]?.id, selectedGenre[0]?.id, limit, page))\r\n\t}, [page, selectedGenre, selectedAuthor])\r\n\r\n\treturn (\r\n\t\t<main className={style.goods}>\r\n\t\t\t{\r\n\t\t\t\tgoods.map(product => {\r\n\t\t\t\t\treturn <ProductCart\r\n\t\t\t\t\t\tkey={product.id}\r\n\t\t\t\t\t\tid={product.id}\r\n\t\t\t\t\t\tname={product.name}\r\n\t\t\t\t\t\tprice={product.price}\r\n\t\t\t\t\t\timg={product.img}\r\n\t\t\t\t\t\trating={product.rating}\r\n\t\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\t/>\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t</main>\r\n\t);\r\n};\r\n\r\nexport default Goods;","import React, { useState } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { useTypedSelector } from '../../hooks/useTypedSelector'\r\nimport { GoodsActionCreator } from '../../store/action-creators/goodsActionCreator';\r\nimport MyButton from '../ui/MyButton/MyButton';\r\nimport style from './Pagination.module.css'\r\n\r\nconst Pagination: React.FC = () => {\r\n\tconst totalCount = useTypedSelector(state => state.goods.totalCount)\r\n\tconst limit = useTypedSelector(state => state.goods.limit)\r\n\tconst statePage = useTypedSelector(state => state.goods.page)\r\n\tconst pageCount = Math.ceil(totalCount / limit)\r\n\tconst dispatch = useDispatch()\r\n\tconst portionSize = 5\r\n\tconst [portionNumber, setPortionNumber] = useState(1)\r\n\r\n\tconst pages = []\r\n\r\n\tfor (let i = 0; i < pageCount; i++) {\r\n\t\tpages.push(i + 1)\r\n\t}\r\n\r\n\tconst portionCount = Math.ceil(pageCount / portionSize)\r\n\tconst leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n\tconst rightPortionPageNumber = portionNumber * portionSize\r\n\r\n\tconst selectPage = (page: number) => {\r\n\t\tdispatch(GoodsActionCreator.setPage(page))\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={style.pagination}>\r\n\t\t\t{\r\n\t\t\t\tportionNumber > 1 &&\r\n\t\t\t\t<span>\r\n\t\t\t\t\t<MyButton onClick={() => { setPortionNumber(portionNumber - 1) }}>{'<'}</MyButton>\r\n\t\t\t\t\t<span className={style.points} >...</span>\r\n\t\t\t\t</span>\r\n\t\t\t}\r\n\t\t\t{\r\n\t\t\t\tpages.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n\t\t\t\t\t.map(page => {\r\n\t\t\t\t\t\treturn <div\r\n\t\t\t\t\t\t\tkey={page}\r\n\t\t\t\t\t\t\tclassName={statePage === page ? style.activePage : style.page}\r\n\t\t\t\t\t\t\tonClick={() => selectPage(page)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{page}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t{\r\n\t\t\t\tportionCount > portionNumber &&\r\n\t\t\t\t<span>\r\n\t\t\t\t\t<span className={style.points} >...</span>\r\n\t\t\t\t\t<MyButton onClick={() => { setPortionNumber(portionNumber + 1) }} >{'>'}</MyButton>\r\n\t\t\t\t</span>\r\n\t\t\t}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Pagination;","import React from 'react'\r\nimport style from './Slide.module.css'\r\nimport star from '../../images/star.png'\r\nimport { useHistory } from 'react-router';\r\nimport { PRODUCT_ROUTE } from '../../utils/consts';\r\n\r\ninterface ISlide {\r\n\timage: string,\r\n\trating: number,\r\n\tid: number\r\n}\r\n\r\nconst Slide: React.FC<ISlide> = ({ image, rating, id }) => {\r\n\tconst history = useHistory()\r\n\r\n\treturn (\r\n\t\t<div className={style.slide}>\r\n\t\t\t<img\r\n\t\t\t\tsrc={`http://localhost:5000/${image}`}\r\n\t\t\t\talt='book photo'\r\n\t\t\t\twidth='70px'\r\n\t\t\t\theight='100px'\r\n\t\t\t\tclassName={style.bookCover}\r\n\t\t\t\tonClick={() => history.push(PRODUCT_ROUTE + `/${id}`)}\r\n\t\t\t/>\r\n\t\t\t<div className={style.rating}>\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={star}\r\n\t\t\t\t\talt='star'\r\n\t\t\t\t\twidth='10px'\r\n\t\t\t\t\theight='10px'\r\n\t\t\t\t/>\r\n\t\t\t\t<span>{rating}</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Slide;","import React, { useEffect } from 'react'\r\nimport { Swiper, SwiperSlide } from 'swiper/react/swiper-react.js'\r\nimport SwiperCore, { Navigation, Pagination, Autoplay } from 'swiper'\r\nimport 'swiper/swiper-bundle.css'\r\nimport { useTypedSelector } from '../../hooks/useTypedSelector'\r\nimport Slide from '../Slide/Slide'\r\nimport { useDispatch } from 'react-redux'\r\nimport { GoodsActionCreator } from '../../store/action-creators/goodsActionCreator'\r\n\r\nSwiperCore.use([Navigation, Pagination, Autoplay])\r\n\r\nconst Slider: React.FC = () => {\r\n\tconst { newProducts, totalCount, limit } = useTypedSelector(state => state.goods)\r\n\tconst dispatch = useDispatch()\r\n\r\n\tuseEffect(() => {\r\n\t\tconst lastPage = Math.floor(totalCount / limit) + 1\r\n\t\tdispatch(GoodsActionCreator.getNewGoods(null, null, limit, lastPage))\r\n\t}, [totalCount])\r\n\r\n\treturn (\r\n\t\t<Swiper\r\n\t\t\tautoplay\r\n\t\t\tspaceBetween={50}\r\n\t\t\tslidesPerView={3}\r\n\t\t>\r\n\t\t\t{\r\n\t\t\t\tnewProducts.reverse().map(item => {\r\n\t\t\t\t\treturn <SwiperSlide\r\n\t\t\t\t\t\tkey={item.id}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Slide image={item.img} rating={item.rating} id={item.id} />\r\n\t\t\t\t\t</SwiperSlide>\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t</Swiper>\r\n\t);\r\n};\r\n\r\nexport default Slider;","import Admin from '../pages/Admin/Admin'\r\nimport Auth from '../pages/Auth/Auth'\r\nimport Cart from '../pages/Cart/Cart'\r\nimport ProductPage from '../pages/Product/ProductPage'\r\nimport Shop from '../pages/Shop/Shop'\r\nimport { ADMIN_ROUTE, CART_ROUTE, LOGIN_ROUTE, PRODUCT_ROUTE, REGISTRATION_ROUTE, SHOP_ROUTE } from '../utils/consts'\r\n\r\n\r\nexport const privateRoutes = [\r\n\t{ path: ADMIN_ROUTE, Component: Admin },\r\n\t{ path: CART_ROUTE, Component: Cart }\r\n]\r\n\r\nexport const publicRoutes = [\r\n\t{ path: SHOP_ROUTE, Component: Shop },\r\n\t{ path: LOGIN_ROUTE, Component: Auth },\r\n\t{ path: `${PRODUCT_ROUTE}/:id`, Component: ProductPage },\r\n\t{ path: REGISTRATION_ROUTE, Component: Auth }\r\n]","import React from 'react'\r\nimport GenreBar from '../../components/GenreBar/GenreBar'\r\nimport Goods from '../../components/Goods/Goods'\r\nimport Pagination from '../../components/Pagination/Pagination'\r\nimport Slider from '../../components/Slider/Slider'\r\nimport style from './Shop.module.css'\r\n\r\nconst Shop: React.FC = () => {\r\n\treturn (\r\n\t\t<div className={style.shopBody}>\r\n\t\t\t<section className={style.startBlock}>\r\n\t\t\t\t<div className={style.wrapper}>\r\n\t\t\t\t\t<div className={style.mainHeaders}>\r\n\t\t\t\t\t\t<h3>Откывай новые миры &#128214;</h3>\r\n\t\t\t\t\t\t<h1 className={style.firstHeader}>Получи любимую книгу по лучшей цене &#129297;</h1>\r\n\t\t\t\t\t\t<div className={style.slider}>\r\n\t\t\t\t\t\t\t<h3>Последние поступления:</h3>\r\n\t\t\t\t\t\t\t<div className={style.sliderBlock}>\r\n\t\t\t\t\t\t\t\t<Slider />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={style.poster}>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</section>\r\n\t\t\t<h2 className={style.shopHeader}>У нас в продаже</h2>\r\n\t\t\t<section className={style.shop}>\r\n\t\t\t\t<GenreBar />\r\n\t\t\t\t<Goods />\r\n\t\t\t\t<Pagination />\r\n\t\t\t</section>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Shop;","import React from 'react'\r\nimport { Switch, Route, Redirect } from 'react-router-dom'\r\nimport { useTypedSelector } from '../../hooks/useTypedSelector'\r\nimport { privateRoutes, publicRoutes } from '../../router/route'\r\nimport { SHOP_ROUTE } from '../../utils/consts'\r\nimport style from './AppRouter.module.css'\r\n\r\nconst AppRouter: React.FC = () => {\r\n\tconst isAuth = useTypedSelector(state => state.auth.isAuth)\r\n\r\n\treturn (\r\n\t\t<div className={style.main}>\r\n\t\t\t<Switch>\r\n\t\t\t\t{\r\n\t\t\t\t\tisAuth && privateRoutes.map(({ path, Component }) => {\r\n\t\t\t\t\t\treturn <Route key={path} path={path} component={Component} exact />\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t{\r\n\t\t\t\t\tpublicRoutes.map(({ path, Component }) => {\r\n\t\t\t\t\t\treturn <Route key={path} path={path} component={Component} exact />\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t<Redirect to={SHOP_ROUTE} />\r\n\t\t\t</Switch>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default AppRouter;","import React, { useState } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { useTypedSelector } from '../../hooks/useTypedSelector'\r\nimport { GoodsActionCreator } from '../../store/action-creators/goodsActionCreator'\r\nimport MyInput from '../ui/MyInput/MyInput'\r\nimport style from './SearchInput.module.css'\r\n\r\nconst SearchInput: React.FC = () => {\r\n\tconst [search, setSearch] = useState('')\r\n\tconst authors = useTypedSelector(state => state.genreAuthor.author)\r\n\tconst { limit, page } = useTypedSelector(state => state.goods)\r\n\tconst dispatch = useDispatch()\r\n\r\n\tconst filterAuthorByName = authors.filter(author => {\r\n\t\treturn author.name.toLowerCase().includes(search.toLowerCase())\r\n\t})\r\n\r\n\tconst selectAuthor = (id: number) => {\r\n\t\tdispatch(GoodsActionCreator.getAllGoods(id, null, limit, page))\r\n\t\tsetSearch('')\r\n\t}\r\n\r\n\treturn (\r\n\t\t<form className={style.searchBlock}>\r\n\t\t\t<i>\t\t\t</i>\r\n\t\t\t<MyInput\r\n\t\t\t\tvalue={search}\r\n\t\t\t\ttype='text'\r\n\t\t\t\tplaceholder='Поиск по имени автора'\r\n\t\t\t\tonChange={e => setSearch(e.target.value)}\r\n\t\t\t/>\r\n\t\t\t<ul className={style.autocomplete}>\r\n\t\t\t\t{\r\n\t\t\t\t\tsearch\r\n\t\t\t\t\t\t? filterAuthorByName.map(item => {\r\n\t\t\t\t\t\t\treturn <li\r\n\t\t\t\t\t\t\t\tkey={item.id}\r\n\t\t\t\t\t\t\t\tclassName={style.autocomleteItem}\r\n\t\t\t\t\t\t\t\tonClick={() => selectAuthor(item.id)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t: null\r\n\t\t\t\t}\r\n\t\t\t</ul>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default SearchInput;","import React, { useEffect } from 'react'\r\nimport style from './NavBar.module.css'\r\nimport logo from '../../images/books_logo.png'\r\nimport MyButton from '../ui/MyButton/MyButton'\r\nimport { useTypedSelector } from '../../hooks/useTypedSelector'\r\nimport { NavLink, useHistory } from 'react-router-dom'\r\nimport { ADMIN_ROUTE, CART_ROUTE, LOGIN_ROUTE, SHOP_ROUTE } from '../../utils/consts'\r\nimport { useDispatch } from 'react-redux'\r\nimport { AuthActionCreator } from '../../store/action-creators/authActionCreator'\r\nimport { CartActionCreator } from '../../store/action-creators/cartActionCreator'\r\nimport SearchInput from '../SearchInput/SearchInput'\r\n\r\nconst NavBar: React.FC = () => {\r\n\tconst isAuth = useTypedSelector(state => state.auth.isAuth)\r\n\tconst { role, email } = useTypedSelector(state => state.auth.user)\r\n\tconst countGoods = useTypedSelector(state => state.cart.countGoods)\r\n\r\n\tconst history = useHistory()\r\n\r\n\tconst dispatch = useDispatch()\r\n\r\n\tconst logout = () => {\r\n\t\tdispatch(AuthActionCreator.logout(email))\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(CartActionCreator.getProductListFromCart())\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<header className={style.header} >\r\n\t\t\t<div className={style.headerWrapper}>\r\n\t\t\t\t<NavLink to={SHOP_ROUTE} className={style.logo}>\r\n\t\t\t\t\t<img src={logo} alt='logo' height='20px' width='20px' />\r\n\t\t\t\t\t<span className={style.logoHeader}>BOOKSHELF</span>\r\n\t\t\t\t</NavLink>\r\n\t\t\t\t<SearchInput />\r\n\t\t\t\t{\r\n\t\t\t\t\tisAuth\r\n\t\t\t\t\t\t? <div className={style.buttons}>\r\n\t\t\t\t\t\t\t{role === 'ADMIN' && <span className={style.iconCog} onClick={() => history.push(ADMIN_ROUTE)}></span>}\r\n\t\t\t\t\t\t\t<div className={style.cartButton}>\r\n\t\t\t\t\t\t\t\t<span className={style.iconCart} onClick={() => history.push(CART_ROUTE)}></span>\r\n\t\t\t\t\t\t\t\t<span className={style.cartCounter}>{countGoods}</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<MyButton onClick={logout}>Выйти</MyButton>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t: <div className={style.buttons}>\r\n\t\t\t\t\t\t\t<span className={style.iconCart} onClick={() => history.push(LOGIN_ROUTE)}></span>\r\n\t\t\t\t\t\t\t<MyButton onClick={() => history.push(LOGIN_ROUTE)}>Авторизация</MyButton>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t</header>\r\n\t);\r\n};\r\n\r\nexport default NavBar;","export default \"data:image/png;base64,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\"","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { SHOP_ROUTE } from '../../utils/consts'\r\nimport style from './Footer.module.css'\r\n\r\nconst Footer: React.FC = () => {\r\n\treturn (\r\n\t\t<footer className={style.footer}>\r\n\t\t\t<div className={style.wrapper}>\r\n\t\t\t\t<NavLink to={SHOP_ROUTE}>\r\n\t\t\t\t\t<span className={style.logoHeader}>BOOKSHELF</span>\r\n\t\t\t\t</NavLink>\r\n\t\t\t\t<span className={style.copyright}>\r\n\t\t\t\t\t&#169; Bookshelf. Все права защищены.\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t</footer>\r\n\t);\r\n};\r\n\r\nexport default Footer;","import { useDispatch } from 'react-redux'\nimport { BrowserRouter } from 'react-router-dom'\nimport AppRouter from './components/AppRouter/AppRouter'\nimport style from './App.module.css'\nimport NavBar from './components/NavBar/NavBar'\nimport { useEffect } from 'react'\nimport { AuthActionCreator } from './store/action-creators/authActionCreator'\nimport Footer from './components/Footer/Footer'\n\nconst App: React.FC = () => {\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    if (localStorage.getItem('token')) {\n      dispatch(AuthActionCreator.checkAuth())\n    }\n  }, [])\n\n  return (\n    <BrowserRouter>\n      <div className={style.wrapper}>\n        <NavBar />\n        <AppRouter />\n        <Footer />\n      </div>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import { CartActions, CartActionTypes, ICartList } from '../../types/cart'\r\n\r\nconst initialState: ICartList = {\r\n\tcart: [],\r\n\tisCartLoading: false,\r\n\tcartError: '',\r\n\tcountGoods: 0,\r\n\tallCartPrice: 0\r\n}\r\n\r\nexport const cartReducer = (state = initialState, action: CartActions): ICartList => {\r\n\tswitch (action.type) {\r\n\t\tcase CartActionTypes.SET_CART:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcart: action.payload\r\n\t\t\t}\r\n\r\n\t\tcase CartActionTypes.SET_CART_IS_LOADING:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisCartLoading: action.payload\r\n\t\t\t}\r\n\r\n\t\tcase CartActionTypes.SET_CART_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcartError: action.payload\r\n\t\t\t}\r\n\r\n\t\tcase CartActionTypes.SET_COUNT_GOODS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcountGoods: action.payload\r\n\t\t\t}\r\n\r\n\t\tcase CartActionTypes.SET_ALL_CART_PRICE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tallCartPrice: action.payload\r\n\t\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}","import { AuthActions, AuthActionTypes, IAuth } from '../../types/auth'\r\nimport { IUser } from '../../types/IUser'\r\n\r\nconst initialState: IAuth = {\r\n\tisAuth: false,\r\n\tuser: {} as IUser,\r\n\tisLoading: false,\r\n\terror: ''\r\n}\r\n\r\nexport const authReducer = (state = initialState, action: AuthActions): IAuth => {\r\n\tswitch (action.type) {\r\n\t\tcase AuthActionTypes.SET_AUTH:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisAuth: action.payload,\r\n\t\t\t\tisLoading: false\r\n\t\t\t}\r\n\r\n\t\tcase AuthActionTypes.SET_USER:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tuser: action.payload\r\n\t\t\t}\r\n\r\n\t\tcase AuthActionTypes.SET_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t\tisLoading: false\r\n\t\t\t}\r\n\r\n\t\tcase AuthActionTypes.SET_IS_LOADING:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: action.payload\r\n\t\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}","import { GenreAuthorActions, GenreAuthorActionTypes, TGenreAuth } from '../../types/genreAuthor'\r\n\r\nconst initialState: TGenreAuth = {\r\n\tauthor: [],\r\n\tgenre: [],\r\n\terror: '',\r\n\tselectedGenre: [],\r\n\tselectedAuthor: []\r\n}\r\n\r\nexport const genreAuthorReducer = (state = initialState, action: GenreAuthorActions): TGenreAuth => {\r\n\tswitch (action.type) {\r\n\t\tcase GenreAuthorActionTypes.SET_AUTHOR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tauthor: action.payload\r\n\t\t\t}\r\n\r\n\t\tcase GenreAuthorActionTypes.SET_GENRE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tgenre: action.payload\r\n\t\t\t}\r\n\r\n\t\tcase GenreAuthorActionTypes.SET_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terror: action.payload\r\n\t\t\t}\r\n\r\n\t\tcase GenreAuthorActionTypes.SET_SELECTED_GENRE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tselectedGenre: [action.payload]\r\n\t\t\t}\r\n\r\n\t\tcase GenreAuthorActionTypes.SET_SELECTED_AUTHOR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tselectedAuthor: [action.payload]\r\n\t\t\t}\r\n\r\n\t\tcase GenreAuthorActionTypes.ADD_GENRE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tgenre: [\r\n\t\t\t\t\t...state.genre,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: state.genre.length + 1,\r\n\t\t\t\t\t\tname: action.payload\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\r\n\t\tcase GenreAuthorActionTypes.ADD_AUTHOR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tauthor: [\r\n\t\t\t\t\t...state.author,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: state.author.length + 1,\r\n\t\t\t\t\t\tname: action.payload\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\r\n\t\tcase GenreAuthorActionTypes.DELETE_GENRE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tgenre: state.genre.filter(item => item.id !== action.payload)\r\n\t\t\t}\r\n\r\n\t\tcase GenreAuthorActionTypes.DELETE_AUTHOR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tauthor: state.author.filter(item => item.id !== action.payload)\r\n\t\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}","import { GoodsActions, GoodsActionTypes, IGoodsList } from '../../types/goods'\r\nimport { IProduct } from '../../types/IProduct'\r\n\r\nconst initialState: IGoodsList = {\r\n\tgoods: [],\r\n\tisLoading: false,\r\n\terror: '',\r\n\tproduct: {} as IProduct,\r\n\tpage: 1,\r\n\ttotalCount: 0,\r\n\tlimit: 12,\r\n\tnewProducts: []\r\n}\r\n\r\n\r\nexport const goodsReducer = (state = initialState, action: GoodsActions): IGoodsList => {\r\n\tswitch (action.type) {\r\n\t\tcase GoodsActionTypes.SET_GOODS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tgoods: action.payload\r\n\t\t\t}\r\n\r\n\t\tcase GoodsActionTypes.SET_IS_LOADING:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: action.payload\r\n\t\t\t}\r\n\r\n\t\tcase GoodsActionTypes.SET_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t\tisLoading: false\r\n\t\t\t}\r\n\r\n\t\tcase GoodsActionTypes.SET_PRODUCT:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tproduct: action.payload\r\n\t\t\t}\r\n\r\n\t\tcase GoodsActionTypes.SET_PAGE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpage: action.payload\r\n\t\t\t}\r\n\r\n\t\tcase GoodsActionTypes.SET_TOTAL_COUNT:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\ttotalCount: action.payload\r\n\t\t\t}\r\n\r\n\t\tcase GoodsActionTypes.SET_LIMIT:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tlimit: action.payload\r\n\t\t\t}\r\n\r\n\t\tcase GoodsActionTypes.SET_NEW_PRODUCTS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tnewProducts: action.payload\r\n\t\t\t}\r\n\r\n\t\tcase GoodsActionTypes.ADD_PRODUCT:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tgoods: [\r\n\t\t\t\t\t...state.goods,\r\n\t\t\t\t\taction.payload\r\n\t\t\t\t]\r\n\t\t\t}\r\n\r\n\t\tcase GoodsActionTypes.DELETE_PRODUCT:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tgoods: state.goods.filter(item => item.id !== action.payload)\r\n\t\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}","import { cartReducer } from './reducers/cartReducer'\r\nimport { applyMiddleware, combineReducers, createStore } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport { authReducer } from './reducers/authReducer'\r\nimport { genreAuthorReducer } from './reducers/genreAuthorReducer'\r\nimport { goodsReducer } from './reducers/goodsReducer'\r\n\r\n\r\nconst reducers = combineReducers({\r\n\tauth: authReducer,\r\n\tgenreAuthor: genreAuthorReducer,\r\n\tgoods: goodsReducer,\r\n\tcart: cartReducer\r\n})\r\n\r\nexport type RootState = ReturnType<typeof reducers>\r\nexport type AppDispatch = typeof store.dispatch\r\n\r\nconst store = createStore(reducers, applyMiddleware(thunk))\r\n\r\nexport default store","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport { Provider } from 'react-redux'\nimport store from './store/store'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n)","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loading\":\"ProductPage_loading__duJmD\",\"product\":\"ProductPage_product__2DWRP\",\"description\":\"ProductPage_description__1314k\",\"price\":\"ProductPage_price__1sqhz\",\"ratingBlock\":\"ProductPage_ratingBlock__3Ol_u\",\"ratingValue\":\"ProductPage_ratingValue__2xmV3\",\"properties\":\"ProductPage_properties__3SF9v\",\"proprtiesList\":\"ProductPage_proprtiesList__2TTz3\",\"propertiesHeader\":\"ProductPage_propertiesHeader__2jRZ_\",\"propertiesValue\":\"ProductPage_propertiesValue__1nf2N\",\"productDiscription\":\"ProductPage_productDiscription__iRyVB\",\"productDiscriptionText\":\"ProductPage_productDiscriptionText__1nkop\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"NavBar_header__i9SP9\",\"headerWrapper\":\"NavBar_headerWrapper__jeUIV\",\"logo\":\"NavBar_logo__v8FS-\",\"logoHeader\":\"NavBar_logoHeader__24qef\",\"buttons\":\"NavBar_buttons__2VAJe\",\"cartButton\":\"NavBar_cartButton__datal\",\"cartCounter\":\"NavBar_cartCounter__2GvgZ\",\"iconCart\":\"NavBar_iconCart__3lbgf\",\"iconCog\":\"NavBar_iconCog__1n2u6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"shopBody\":\"Shop_shopBody__3eQM_\",\"startBlock\":\"Shop_startBlock__2M7W-\",\"wrapper\":\"Shop_wrapper__1C7KD\",\"mainHeaders\":\"Shop_mainHeaders__3eXi0\",\"firstHeader\":\"Shop_firstHeader__V_wZc\",\"slider\":\"Shop_slider__32Ova\",\"sliderBlock\":\"Shop_sliderBlock__1jNHl\",\"poster\":\"Shop_poster__Qgr0z\",\"shopHeader\":\"Shop_shopHeader__13xXW\",\"shop\":\"Shop_shop__1I7Rd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"authForm\":\"Auth_authForm__FhDVg\",\"formTable\":\"Auth_formTable__15Obz\",\"error\":\"Auth_error__3DBfp\",\"link\":\"Auth_link__162Jj\",\"registLink\":\"Auth_registLink__3FOXw\",\"notActive\":\"Auth_notActive__2g4KG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"productCart\":\"ProductCart_productCart__36uyN\",\"loading\":\"ProductCart_loading__3dYpN\",\"productInfo\":\"ProductCart_productInfo__2BChz\",\"productImg\":\"ProductCart_productImg__1Pl12\",\"productName\":\"ProductCart_productName__2VEDf\",\"price\":\"ProductCart_price__1KCgx\",\"rating\":\"ProductCart_rating__26Pee\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"productItem\":\"ProductInCart_productItem__3Jh0n\",\"grupItem\":\"ProductInCart_grupItem__va6lS\",\"counterBlock\":\"ProductInCart_counterBlock__2ZyZ5\",\"counter\":\"ProductInCart_counter__1oI1b\",\"productImg\":\"ProductInCart_productImg__104Xp\",\"productPrice\":\"ProductInCart_productPrice__1XmB1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"genreAuthor\":\"AdminCategories_genreAuthor__2jx6k\",\"table\":\"AdminCategories_table__NMu3P\",\"categoriesItem\":\"AdminCategories_categoriesItem__1aCfj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart\":\"Cart_cart__2LOI3\",\"emptyCart\":\"Cart_emptyCart__1XqwV\",\"emptyCartText\":\"Cart_emptyCartText__25_OE\",\"line\":\"Cart_line__3sZSF\",\"totalPrice\":\"Cart_totalPrice__7oSa4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"listGenre\":\"GenreBar_listGenre__1fAry\",\"listItem\":\"GenreBar_listItem__1wX4F\",\"selected\":\"GenreBar_selected__tHlQb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Pagination_pagination__2AMcA\",\"page\":\"Pagination_page__2adDj\",\"activePage\":\"Pagination_activePage__12g4s\",\"points\":\"Pagination_points__3C8tv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"adminPage\":\"Admin_adminPage__2QTsd\",\"selectPanel\":\"Admin_selectPanel__1tBuV\",\"screen\":\"Admin_screen__170Wo\",\"selected\":\"Admin_selected__1P_-Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__2ikah\",\"wrapper\":\"Footer_wrapper__3C0pp\",\"logoHeader\":\"Footer_logoHeader__Xqucp\",\"copyright\":\"Footer_copyright__1DDZw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"open\":\"ModalCategories_open__1xK7x\",\"close\":\"ModalCategories_close__3FiXc\",\"modalWrapper\":\"ModalCategories_modalWrapper__3-cwl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectButton\":\"MySelect_selectButton__1e4Cg\",\"listBlock\":\"MySelect_listBlock__FbO6d\",\"listItem\":\"MySelect_listItem__1aa0A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"open\":\"ModalGoods_open__2mVh4\",\"close\":\"ModalGoods_close__20TSf\",\"modalWrapper\":\"ModalGoods_modalWrapper__1OzO1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"slide\":\"Slide_slide__1PByO\",\"bookCover\":\"Slide_bookCover__2wNTy\",\"rating\":\"Slide_rating__2_ljW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchBlock\":\"SearchInput_searchBlock__3n-nk\",\"autocomplete\":\"SearchInput_autocomplete__3YDk2\",\"autocomleteItem\":\"SearchInput_autocomleteItem__1gVJV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"MyButton_button__2YhKZ\",\"disable\":\"MyButton_disable__3a0pK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"MyInput_input__2bsgo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"goodsTable\":\"AdminGoods_goodsTable__xiIlj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"goods\":\"Goods_goods__1iP5p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"AppRouter_main__3ppAp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"App_wrapper__25n15\"};"],"sourceRoot":""}